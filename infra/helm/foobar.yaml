---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: application-system
  labels:
    appNamespace: application-system
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: service-portal
  labels:
    appNamespace: service-portal
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: portals-admin
  labels:
    appNamespace: portals-admin
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: consultation-portal
  labels:
    appNamespace: consultation-portal
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: islandis
  labels:
    appNamespace: islandis
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: search-indexer
  labels:
    appNamespace: search-indexer
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: xroad-collector
  labels:
    appNamespace: xroad-collector
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: skilavottord
  labels:
    appNamespace: skilavottord
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: services-documents
  labels:
    appNamespace: services-documents
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: storybook
  labels:
    appNamespace: storybook
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: contentful-translation-extension
  labels:
    appNamespace: contentful-translation-extension
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: download-service
  labels:
    appNamespace: download-service
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: icelandic-names-registry
  labels:
    appNamespace: icelandic-names-registry
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: endorsement-system
  labels:
    appNamespace: endorsement-system
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: air-discount-scheme
  labels:
    appNamespace: air-discount-scheme
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: regulations-admin
  labels:
    appNamespace: regulations-admin
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: github-actions-cache
  labels:
    appNamespace: github-actions-cache
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: user-notification
  labels:
    appNamespace: user-notification
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: external-contracts-tests
  labels:
    appNamespace: external-contracts-tests
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: contentful-entry-tagger
  labels:
    appNamespace: contentful-entry-tagger
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: license-api
  labels:
    appNamespace: license-api
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: services-sessions
  labels:
    appNamespace: services-sessions
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/namespaces/templates/namespaces.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: contentful-apps
  labels:
    appNamespace: contentful-apps
  annotations:
    linkerd.io/inject: disabled
---
# Source: islandis/charts/air-discount-scheme-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: air-discount-scheme
---
# Source: islandis/charts/air-discount-scheme-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/air-discount-scheme-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/air-discount-scheme-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/air-discount-scheme-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/air-discount-scheme-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/air-discount-scheme-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: air-discount-scheme
---
# Source: islandis/charts/air-discount-scheme-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/air-discount-scheme-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/air-discount-scheme-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/air-discount-scheme-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/air-discount-scheme-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/air-discount-scheme-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: air-discount-scheme
---
# Source: islandis/charts/air-discount-scheme-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/air-discount-scheme-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/air-discount-scheme-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/air-discount-scheme-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/air-discount-scheme-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: air-discount-scheme
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-api-catalogue
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: api-catalogue
---
# Source: islandis/charts/api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-application-system
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: application-system
---
# Source: islandis/charts/api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-consultation-portal
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: consultation-portal
---
# Source: islandis/charts/application-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: application-system
---
# Source: islandis/charts/application-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/application-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/application-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/application-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/application-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/application-system-form/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: application-system
---
# Source: islandis/charts/application-system-form/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/application-system-form/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/application-system-form/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/application-system-form/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/application-system-form/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: application-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/contentful-translation-extension/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: contentful-translation-extension
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: contentful-translation-extension
---
# Source: islandis/charts/contentful-translation-extension/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: contentful-translation-extension
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/contentful-translation-extension/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: contentful-translation-extension
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/contentful-translation-extension/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: contentful-translation-extension
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/contentful-translation-extension/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: contentful-translation-extension
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/download-service/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: download-service
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: download-service
---
# Source: islandis/charts/download-service/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: download-service
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/download-service/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: download-service
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/download-service/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: download-service
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/download-service/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: download-service
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/download-service/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: download-service
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/endorsement-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: endorsement-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: endorsement-system
---
# Source: islandis/charts/endorsement-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: endorsement-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/endorsement-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: endorsement-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/endorsement-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: endorsement-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/endorsement-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: endorsement-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/endorsement-system-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-application-system
  namespace: endorsement-system
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: application-system
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: icelandic-names-registry
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: icelandic-names-registry
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: icelandic-names-registry
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: icelandic-names-registry
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: icelandic-names-registry
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: icelandic-names-registry
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/island-ui-storybook/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: storybook
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: storybook
---
# Source: islandis/charts/island-ui-storybook/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: storybook
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/island-ui-storybook/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: storybook
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/island-ui-storybook/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: storybook
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/island-ui-storybook/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: storybook
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/license-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: license-api
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: license-api
---
# Source: islandis/charts/license-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: license-api
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/license-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: license-api
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/license-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: license-api
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/license-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: license-api
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/regulations-admin-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: regulations-admin
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: regulations-admin
---
# Source: islandis/charts/regulations-admin-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: regulations-admin
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/regulations-admin-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: regulations-admin
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/regulations-admin-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: regulations-admin
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/regulations-admin-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: regulations-admin
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/regulations-admin-backend/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-download-service
  namespace: regulations-admin
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: download-service
---
# Source: islandis/charts/service-portal-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: service-portal
---
# Source: islandis/charts/service-portal-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/service-portal-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/service-portal-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/service-portal-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/service-portal-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/service-portal-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-user-notification
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: user-notification
---
# Source: islandis/charts/service-portal-api/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-identity-server
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: identity-server
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: service-portal
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-user-notification
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: user-notification
---
# Source: islandis/charts/service-portal/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-identity-server
  namespace: service-portal
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: identity-server
---
# Source: islandis/charts/services-documents/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: services-documents
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: services-documents
---
# Source: islandis/charts/services-documents/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: services-documents
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/services-documents/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: services-documents
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/services-documents/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: services-documents
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/services-documents/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: services-documents
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/services-documents/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-application-system
  namespace: services-documents
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: application-system
---
# Source: islandis/charts/services-sessions-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: services-sessions
---
# Source: islandis/charts/services-sessions-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/services-sessions-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/services-sessions-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/services-sessions-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/services-sessions-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/services-sessions-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-identity-server
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: identity-server
---
# Source: islandis/charts/services-sessions/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: services-sessions
---
# Source: islandis/charts/services-sessions/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/services-sessions/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/services-sessions/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/services-sessions/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/services-sessions/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-islandis
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/services-sessions/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-identity-server
  namespace: services-sessions
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: identity-server
---
# Source: islandis/charts/skilavottord-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: skilavottord
---
# Source: islandis/charts/skilavottord-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/skilavottord-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/skilavottord-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/skilavottord-web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/skilavottord-ws/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: skilavottord
---
# Source: islandis/charts/skilavottord-ws/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/skilavottord-ws/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/skilavottord-ws/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/skilavottord-ws/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: skilavottord
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/user-notification-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: user-notification
---
# Source: islandis/charts/user-notification-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/user-notification-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/user-notification-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/user-notification-worker/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/user-notification/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: user-notification
---
# Source: islandis/charts/user-notification/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/user-notification/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/user-notification/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/user-notification/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-internal
  namespace: user-notification
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-internal
---
# Source: islandis/charts/web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-self
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: islandis
---
# Source: islandis/charts/web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/control-plane-ns: linkerd
---
# Source: islandis/charts/web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-linkerd-viz
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              linkerd.io/extension: viz
---
# Source: islandis/charts/web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-feature-deployments
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              namespaceType: feature
---
# Source: islandis/charts/web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-nginx-ingress-external
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: nginx-ingress-external
---
# Source: islandis/charts/web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-api-catalogue
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: api-catalogue
---
# Source: islandis/charts/web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-application-system
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: application-system
---
# Source: islandis/charts/web/templates/networkpolicies.yaml
kind: NetworkPolicy
apiVersion: networking.k8s.io/v1
metadata:
  name: grant-consultation-portal
  namespace: islandis
spec:
  podSelector:
    matchLabels: {}
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              appNamespace: consultation-portal
---
# Source: islandis/charts/air-discount-scheme-api/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: air-discount-scheme-api
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-api-0.0.1
    app.kubernetes.io/name: air-discount-scheme-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/air-discount-scheme-api
---
# Source: islandis/charts/api/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: api
  namespace: islandis
  labels:
    helm.sh/chart: api-0.0.1
    app.kubernetes.io/name: api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/api
---
# Source: islandis/charts/application-system-api-worker/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: application-system-api-worker
  namespace: application-system
  labels:
    helm.sh/chart: application-system-api-worker-0.0.1
    app.kubernetes.io/name: application-system-api-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/application-system-api-worker
---
# Source: islandis/charts/application-system-api/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: application-system-api
  namespace: application-system
  labels:
    helm.sh/chart: application-system-api-0.0.1
    app.kubernetes.io/name: application-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/application-system-api
---
# Source: islandis/charts/contentful-apps/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: contentful-apps
  namespace: contentful-apps
  labels:
    helm.sh/chart: contentful-apps-0.0.1
    app.kubernetes.io/name: contentful-apps
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/contentful-apps
---
# Source: islandis/charts/contentful-entry-tagger-service/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: contentful-entry-tagger
  namespace: contentful-entry-tagger
  labels:
    helm.sh/chart: contentful-entry-tagger-service-0.0.1
    app.kubernetes.io/name: contentful-entry-tagger-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/contentful-entry-tagger
---
# Source: islandis/charts/endorsement-system-api/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: endorsement-system-api
  namespace: endorsement-system
  labels:
    helm.sh/chart: endorsement-system-api-0.0.1
    app.kubernetes.io/name: endorsement-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/endorsement-system-api
---
# Source: islandis/charts/external-contracts-tests/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: release-name-external-contracts-tests
  namespace: external-contracts-tests
  labels:
    helm.sh/chart: external-contracts-tests-0.0.1
    app.kubernetes.io/name: external-contracts-tests
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
---
# Source: islandis/charts/github-actions-cache/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: github-actions-cache
  namespace: github-actions-cache
  labels:
    helm.sh/chart: github-actions-cache-0.0.1
    app.kubernetes.io/name: github-actions-cache
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/github-actions-cache
---
# Source: islandis/charts/search-indexer-service/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: search-indexer
  namespace: search-indexer
  labels:
    helm.sh/chart: search-indexer-service-0.0.1
    app.kubernetes.io/name: search-indexer-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/search-indexer
---
# Source: islandis/charts/service-portal-api/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: service-portal-api
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-api-0.0.1
    app.kubernetes.io/name: service-portal-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/service-portal-api
---
# Source: islandis/charts/services-sessions-geoip-worker/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: sessions-geoip
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-geoip-worker-0.0.1
    app.kubernetes.io/name: services-sessions-geoip-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/sessions-geoip
---
# Source: islandis/charts/services-sessions-worker/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: sessions-worker
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-worker-0.0.1
    app.kubernetes.io/name: services-sessions-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/sessions-worker
---
# Source: islandis/charts/user-notification-worker/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: user-notification-worker
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-worker-0.0.1
    app.kubernetes.io/name: user-notification-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/user-notification-worker
---
# Source: islandis/charts/user-notification/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: user-notification
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-0.0.1
    app.kubernetes.io/name: user-notification
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/user-notification
---
# Source: islandis/charts/xroad-collector/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: xroad-collector
  namespace: xroad-collector
  labels:
    helm.sh/chart: xroad-collector-0.0.1
    app.kubernetes.io/name: xroad-collector
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::013313053092:role/xroad-collector
---
# Source: islandis/charts/api/templates/configs.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  metadata:
  namespace: islandis
  name: api
binaryData:
  islyklar.p12: |-
---
# Source: islandis/charts/application-system-api/templates/configs.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  metadata:
  namespace: application-system
  name: application-system-api
binaryData:
  islyklar.p12: |-
---
# Source: islandis/charts/air-discount-scheme-api/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-air-discount-scheme-api
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-api-0.0.1
    app.kubernetes.io/name: air-discount-scheme-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: air-discount-scheme-api
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/air-discount-scheme-backend/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-air-discount-scheme-backend
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-backend-0.0.1
    app.kubernetes.io/name: air-discount-scheme-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: air-discount-scheme-backend
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/air-discount-scheme-web/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-air-discount-scheme-web
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-web-0.0.1
    app.kubernetes.io/name: air-discount-scheme-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: air-discount-scheme-web
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/api/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-api
  namespace: islandis
  labels:
    helm.sh/chart: api-0.0.1
    app.kubernetes.io/name: api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: api
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/application-system-api/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-application-system-api
  namespace: application-system
  labels:
    helm.sh/chart: application-system-api-0.0.1
    app.kubernetes.io/name: application-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: application-system-api
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/application-system-form/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-application-system-form
  namespace: application-system
  labels:
    helm.sh/chart: application-system-form-0.0.1
    app.kubernetes.io/name: application-system-form
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: application-system-form
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/consultation-portal/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-consultation-portal
  namespace: consultation-portal
  labels:
    helm.sh/chart: consultation-portal-0.0.1
    app.kubernetes.io/name: consultation-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: consultation-portal
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/contentful-apps/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-contentful-apps
  namespace: contentful-apps
  labels:
    helm.sh/chart: contentful-apps-0.0.1
    app.kubernetes.io/name: contentful-apps
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: contentful-apps
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/contentful-entry-tagger-service/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-contentful-entry-tagger-service
  namespace: contentful-entry-tagger
  labels:
    helm.sh/chart: contentful-entry-tagger-service-0.0.1
    app.kubernetes.io/name: contentful-entry-tagger-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: contentful-entry-tagger-service
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/contentful-translation-extension/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-contentful-translation-extension
  namespace: contentful-translation-extension
  labels:
    helm.sh/chart: contentful-translation-extension-0.0.1
    app.kubernetes.io/name: contentful-translation-extension
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: contentful-translation-extension
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/download-service/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-download-service
  namespace: download-service
  labels:
    helm.sh/chart: download-service-0.0.1
    app.kubernetes.io/name: download-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: download-service
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/endorsement-system-api/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-endorsement-system-api
  namespace: endorsement-system
  labels:
    helm.sh/chart: endorsement-system-api-0.0.1
    app.kubernetes.io/name: endorsement-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: endorsement-system-api
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/github-actions-cache/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-github-actions-cache
  namespace: github-actions-cache
  labels:
    helm.sh/chart: github-actions-cache-0.0.1
    app.kubernetes.io/name: github-actions-cache
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: github-actions-cache
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-icelandic-names-registry-backend
  namespace: icelandic-names-registry
  labels:
    helm.sh/chart: icelandic-names-registry-backend-0.0.1
    app.kubernetes.io/name: icelandic-names-registry-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: icelandic-names-registry-backend
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/island-ui-storybook/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-island-ui-storybook
  namespace: storybook
  labels:
    helm.sh/chart: island-ui-storybook-0.0.1
    app.kubernetes.io/name: island-ui-storybook
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: island-ui-storybook
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/license-api/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-license-api
  namespace: license-api
  labels:
    helm.sh/chart: license-api-0.0.1
    app.kubernetes.io/name: license-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: license-api
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/portals-admin/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-portals-admin
  namespace: portals-admin
  labels:
    helm.sh/chart: portals-admin-0.0.1
    app.kubernetes.io/name: portals-admin
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: portals-admin
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/regulations-admin-backend/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-regulations-admin-backend
  namespace: regulations-admin
  labels:
    helm.sh/chart: regulations-admin-backend-0.0.1
    app.kubernetes.io/name: regulations-admin-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: regulations-admin-backend
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/search-indexer-service/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-search-indexer-service
  namespace: search-indexer
  labels:
    helm.sh/chart: search-indexer-service-0.0.1
    app.kubernetes.io/name: search-indexer-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: search-indexer-service
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/service-portal-api/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-service-portal-api
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-api-0.0.1
    app.kubernetes.io/name: service-portal-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: service-portal-api
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/service-portal/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-service-portal
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-0.0.1
    app.kubernetes.io/name: service-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: service-portal
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/services-documents/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-services-documents
  namespace: services-documents
  labels:
    helm.sh/chart: services-documents-0.0.1
    app.kubernetes.io/name: services-documents
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: services-documents
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/services-sessions-worker/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-services-sessions-worker
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-worker-0.0.1
    app.kubernetes.io/name: services-sessions-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: services-sessions-worker
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/services-sessions/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-services-sessions
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-0.0.1
    app.kubernetes.io/name: services-sessions
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: services-sessions
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/skilavottord-web/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-skilavottord-web
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-web-0.0.1
    app.kubernetes.io/name: skilavottord-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: skilavottord-web
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/skilavottord-ws/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-skilavottord-ws
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-ws-0.0.1
    app.kubernetes.io/name: skilavottord-ws
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: skilavottord-ws
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/user-notification-worker/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-user-notification-worker
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-worker-0.0.1
    app.kubernetes.io/name: user-notification-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: user-notification-worker
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/user-notification/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-user-notification
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-0.0.1
    app.kubernetes.io/name: user-notification
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: user-notification
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/web/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-web
  namespace: islandis
  labels:
    helm.sh/chart: web-0.0.1
    app.kubernetes.io/name: web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: 3333
      protocol: TCP
      name: http

  selector:
    app.kubernetes.io/name: web
    app.kubernetes.io/instance: release-name
---
# Source: islandis/charts/air-discount-scheme-api/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-air-discount-scheme-api
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-api-0.0.1
    app.kubernetes.io/name: air-discount-scheme-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: air-discount-scheme-api
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: air-discount-scheme-api
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: air-discount-scheme-api
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: air-discount-scheme-api
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/air-discount-scheme-api.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: air-discount-scheme-api
      securityContext:
        fsGroup: 65534
      containers:
        - name: air-discount-scheme-api
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/air-discount-scheme-api:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: AUTH_AUDIENCE
              value: "loftbru.dev01.devland.is"
            - name: BACKEND_URL
              value: "http://web-air-discount-scheme-backend"
            - name: CONTENTFUL_HOST
              value: "preview.contentful.com"
            - name: ELASTIC_NODE
              value: "https://vpc-search-njkekqydiegezhr4vqpkfnw5la.eu-west-1.es.amazonaws.com"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: ADMINS
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-api
                  key: ADMINS
            - name: AUTH_JWT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-api
                  key: AUTH_JWT_SECRET
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-api
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-api
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: DEVELOPERS
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-api
                  key: DEVELOPERS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 50m
              memory: 256Mi
---
# Source: islandis/charts/air-discount-scheme-backend/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-air-discount-scheme-backend
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-backend-0.0.1
    app.kubernetes.io/name: air-discount-scheme-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: air-discount-scheme-backend
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: air-discount-scheme-backend
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: air-discount-scheme-backend
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: air-discount-scheme-backend
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/air-discount-scheme-backend.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migration.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      initContainers:
        - name: migration
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/air-discount-scheme-backend:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "air_discount_scheme_backend"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "air_discount_scheme_backend"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: air-discount-scheme-backend
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/air-discount-scheme-backend:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "air_discount_scheme_backend"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "air_discount_scheme_backend"
            - name: ENVIRONMENT
              value: "dev"
            - name: IDENTITY_SERVER_CLIENT_ID
              value: "@vegagerdin.is/clients/air-discount-scheme"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: REDIS_URL_NODE_01
              value: "clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: XROAD_BASE_PATH
              value: "http://securityserver.dev01.devland.is"
            - name: XROAD_BASE_PATH_WITH_ENV
              value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_CLIENT_ID
              value: "IS-DEV/GOV/10000/island-is-client"
            - name: XROAD_NATIONAL_REGISTRY_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: XROAD_NATIONAL_REGISTRY_SERVICE_PATH
              value: "IS-DEV/GOV/10001/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_TJODSKRA_API_PATH
              value: "/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_TJODSKRA_MEMBER_CODE
              value: "10001"
            - name: XROAD_TLS_BASE_PATH
              value: "https://securityserver.dev01.devland.is"
            - name: XROAD_TLS_BASE_PATH_WITH_ENV
              value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: DB_PASS
            - name: ERNIR_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: ERNIR_API_KEY
            - name: ICELANDAIR_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: ICELANDAIR_API_KEY
            - name: IDENTITY_SERVER_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: IDENTITY_SERVER_CLIENT_SECRET
            - name: NATIONAL_REGISTRY_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: NATIONAL_REGISTRY_PASSWORD
            - name: NATIONAL_REGISTRY_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: NATIONAL_REGISTRY_URL
            - name: NATIONAL_REGISTRY_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: NATIONAL_REGISTRY_USERNAME
            - name: NORLANDAIR_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-backend
                  key: NORLANDAIR_API_KEY
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 50m
              memory: 256Mi
---
# Source: islandis/charts/air-discount-scheme-web/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-air-discount-scheme-web
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-web-0.0.1
    app.kubernetes.io/name: air-discount-scheme-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: air-discount-scheme-web
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: air-discount-scheme-web
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: air-discount-scheme-web
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: air-discount-scheme-web
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/air-discount-scheme-web.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: air-discount-scheme-web
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/air-discount-scheme-web:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: API_URL
              value: "http://web-air-discount-scheme-api"
            - name: ENVIRONMENT
              value: "dev"
            - name: IDENTITY_SERVER_ISSUER_DOMAIN
              value: "identity-server.dev01.devland.is"
            - name: NEXTAUTH_URL
              value: "https://loftbru.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-web
                  key: CONFIGCAT_SDK_KEY
            - name: DD_RUM_APPLICATION_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-web
                  key: DD_RUM_APPLICATION_ID
            - name: DD_RUM_CLIENT_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-web
                  key: DD_RUM_CLIENT_TOKEN
            - name: IDENTITY_SERVER_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-air-discount-scheme-web
                  key: IDENTITY_SERVER_SECRET
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
---
# Source: islandis/charts/api/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-api
  namespace: islandis
  labels:
    helm.sh/chart: api-0.0.1
    app.kubernetes.io/name: api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: api
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: api
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: api
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: api
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/api.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: api
      securityContext:
        fsGroup: 65534
      containers:
        - name: api
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/api:latest_master"
          imagePullPolicy: IfNotPresent
          command: ["node"]
          args: ["--tls-min-v1.0","--no-experimental-fetch","main.js"]
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /health
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: AIR_DISCOUNT_SCHEME_BACKEND_URL
              value: "http://web-air-discount-scheme-backend.air-discount-scheme.svc.cluster.local"
            - name: AIR_DISCOUNT_SCHEME_CLIENT_TIMEOUT
              value: "20000"
            - name: AIR_DISCOUNT_SCHEME_FRONTEND_HOSTNAME
              value: "loftbru.dev01.devland.is"
            - name: APOLLO_CACHE_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: APPLICATION_SYSTEM_API_URL
              value: "http://web-application-system-api.application-system.svc.cluster.local"
            - name: AUTH_ADMIN_API_PATHS
              value: "{\"development\":\"https://identity-server.dev01.devland.is/backend\"}"
            - name: AUTH_DELEGATION_API_URL
              value: "http://web-services-auth-delegation-api.identity-server-delegation.svc.cluster.local"
            - name: AUTH_IDS_API_URL
              value: "https://identity-server.dev01.devland.is"
            - name: AUTH_PUBLIC_API_URL
              value: "https://identity-server.dev01.devland.is/api"
            - name: COMPANY_REGISTRY_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: COMPANY_REGISTRY_XROAD_PROVIDER_ID
              value: "IS-DEV/GOV/10006/Skatturinn/ft-v1"
            - name: CONSULTATION_PORTAL_CLIENT_BASE_PATH
              value: "https://samradapi-test.devland.is"
            - name: CONTACT_US_EMAIL
              value: "s@kogk.is"
            - name: CONTENTFUL_HOST
              value: "preview.contentful.com"
            - name: DOWNLOAD_SERVICE_BASE_PATH
              value: "https://api.dev01.devland.is"
            - name: ELASTIC_NODE
              value: "https://vpc-search-njkekqydiegezhr4vqpkfnw5la.eu-west-1.es.amazonaws.com"
            - name: ELECTRONIC_REGISTRATION_STATISTICS_API_URL
              value: "https://api-staging.thinglysing.is/business/tolfraedi"
            - name: ENDORSEMENT_SYSTEM_BASE_API_URL
              value: "http://web-endorsement-system-api.endorsement-system.svc.cluster.local"
            - name: FILE_DOWNLOAD_BUCKET
              value: "island-is-dev-download-cache-api"
            - name: FILE_STORAGE_UPLOAD_BUCKET
              value: "island-is-dev-upload-api"
            - name: FINANCIAL_STATEMENTS_INAO_BASE_PATH
              value: "https://dev-re.crm4.dynamics.com/api/data/v9.1"
            - name: FINANCIAL_STATEMENTS_INAO_ISSUER
              value: "https://login.microsoftonline.com/05a20268-aaea-4bb5-bb78-960b0462185e/v2.0"
            - name: FINANCIAL_STATEMENTS_INAO_SCOPE
              value: "https://dev-re.crm4.dynamics.com/.default"
            - name: FINANCIAL_STATEMENTS_INAO_TOKEN_ENDPOINT
              value: "https://login.microsoftonline.com/05a20268-aaea-4bb5-bb78-960b0462185e/oauth2/v2.0/token"
            - name: FISHING_LICENSE_XROAD_PROVIDER_ID
              value: "IS-DEV/GOV/10012/Fiskistofa-Protected/veidileyfi-v1"
            - name: FISKISTOFA_ZENTER_CLIENT_ID
              value: "1114"
            - name: HSN_WEB_FORM_ID
              value: "1dimJFHLFYtnhoYEA3JxRK"
            - name: ICELANDIC_NAMES_REGISTRY_BACKEND_URL
              value: "http://web-icelandic-names-registry-backend.icelandic-names-registry.svc.cluster.local"
            - name: IDENTITY_SERVER_CLIENT_ID
              value: "@island.is/clients/api"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: ISLYKILL_CERT
              value: "/etc/config/islyklar.p12"
            - name: MUNICIPALITIES_FINANCIAL_AID_BACKEND_URL
              value: "http://web-financial-aid-backend"
            - name: NATIONAL_REGISTRY_B2C_CLIENT_ID
              value: "b464afdd-056b-406d-b650-6d41733cfeb7"
            - name: NATIONAL_REGISTRY_B2C_ENDPOINT
              value: "https://skraidentitydev.b2clogin.com/skraidentitydev.onmicrosoft.com/b2c_1_midlun_flow/oauth2/v2.0/token"
            - name: NATIONAL_REGISTRY_B2C_PATH
              value: "IS-DEV/GOV/10001/SKRA-Cloud-Protected/Midlun-v1"
            - name: NATIONAL_REGISTRY_B2C_SCOPE
              value: "https://skraidentitydev.onmicrosoft.com/midlun/.default"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=2000"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: REGULATIONS_ADMIN_URL
              value: "http://web-regulations-admin-backend.regulations-admin.svc.cluster.local"
            - name: SEND_FROM_EMAIL
              value: "development@island.is"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: SERVICE_DOCUMENTS_BASEPATH
              value: "http://web-services-documents.services-documents.svc.cluster.local"
            - name: SERVICE_USER_PROFILE_URL
              value: "http://web-service-portal-api.service-portal.svc.cluster.local"
            - name: SESSIONS_API_URL
              value: "http://web-services-sessions.services-sessions.svc.cluster.local"
            - name: SOFFIA_SOAP_URL
              value: "https://soffiaprufa.skra.is"
            - name: SYSLUMENN_TIMEOUT
              value: "40000"
            - name: TELL_US_A_STORY_EMAIL
              value: "s@kogk.is"
            - name: XROAD_ADR_MACHINE_LICENSE_PATH
              value: "IS-DEV/GOV/10013/Vinnueftirlitid-Protected/rettindi-token-v1"
            - name: XROAD_AIRCRAFT_REGISTRY_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Loftfaraskra-V1"
            - name: XROAD_BASE_PATH
              value: "http://securityserver.dev01.devland.is"
            - name: XROAD_BASE_PATH_WITH_ENV
              value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_CHARGE_FJS_V2_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/chargeFJS_v2"
            - name: XROAD_CHARGE_FJS_V2_TIMEOUT
              value: "20000"
            - name: XROAD_CLIENT_ID
              value: "IS-DEV/GOV/10000/island-is-client"
            - name: XROAD_COURT_BANKRUPTCY_CERT_PATH
              value: "IS-DEV/GOV/10019/Domstolasyslan/JusticePortal-v1"
            - name: XROAD_CRIMINAL_RECORD_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/Sakavottord-PDF-v2"
            - name: XROAD_DIGITAL_TACHOGRAPH_DRIVERS_CARD_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Okuritar-V1"
            - name: XROAD_DISABILITY_LICENSE_PATH
              value: "IS-DEV/GOV/10008/TR-Protected/oryrki-v1"
            - name: XROAD_DRIVING_LICENSE_BOOK_TIMEOUT
              value: "20000"
            - name: XROAD_DRIVING_LICENSE_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/RafraentOkuskirteini-v1"
            - name: XROAD_DRIVING_LICENSE_V2_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/RafraentOkuskirteini-v2"
            - name: XROAD_DRIVING_LICENSE_V4_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/Okuskirteini-v4"
            - name: XROAD_DRIVING_LICENSE_V5_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/Okuskirteini-v5"
            - name: XROAD_FINANCES_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/financeIsland"
            - name: XROAD_FINANCES_TIMEOUT
              value: "20000"
            - name: XROAD_FINANCIAL_AID_BACKEND_PATH
              value: "IS-DEV/MUN/10023/samband-sveitarfelaga/financial-aid-backend"
            - name: XROAD_FIREARM_LICENSE_PATH
              value: "IS-DEV/GOV/10005/Logreglan-Protected/island-api-v1"
            - name: XROAD_HEALTH_DIRECTORATE_PATH
              value: "IS-DEV/GOV/10015/EmbaettiLandlaeknis-Protected/landlaeknir"
            - name: XROAD_HEALTH_INSURANCE_ID
              value: "IS-DEV/GOV/10007/SJUKRA-Protected"
            - name: XROAD_HEALTH_INSURANCE_MY_PAGES_PATH
              value: "IS-DEV/GOV/10007/SJUKRA-Protected/minarsidur"
            - name: XROAD_HEALTH_INSURANCE_WSDLURL
              value: "https://test-huld.sjukra.is/islandrg?wsdl"
            - name: XROAD_HOUSING_BENEFIT_CALCULATOR_PATH
              value: "IS-DEV/GOV/10033/HMS-Protected/calc-v1"
            - name: XROAD_ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_PATH
              value: "IS-DEV/GOV/10021/FJS-Protected/recruitment-v1"
            - name: XROAD_MMS_GRADE_SERVICE_ID
              value: "IS-DEV/EDU/10020/MMS-Protected/grade-api-v1"
            - name: XROAD_MMS_LICENSE_SERVICE_ID
              value: "IS-DEV/EDU/10020/MMS-Protected/license-api-v1"
            - name: XROAD_NATIONAL_REGISTRY_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: XROAD_NATIONAL_REGISTRY_SERVICE_PATH
              value: "IS-DEV/GOV/10001/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_NATIONAL_REGISTRY_TIMEOUT
              value: "20000"
            - name: XROAD_PASSPORT_LICENSE_PATH
              value: "IS-DEV/GOV/10001/SKRA-Protected/Forskraning-V1"
            - name: XROAD_PAYMENT_ADDITION_CALLBACK_URL
              value: "/"
            - name: XROAD_PAYMENT_BASE_CALLBACK_URL
              value: "XROAD:/IS-DEV/GOV/10000/island-is/application-callback-v2/application-payment/"
            - name: XROAD_PAYMENT_PROVIDER_ID
              value: "IS-DEV/GOV/10021/FJS-Public"
            - name: XROAD_PAYMENT_SCHEDULE_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/paymentSchedule_v1"
            - name: XROAD_PROPERTIES_SERVICE_V2_PATH
              value: "IS-DEV/GOV/10033/HMS-Protected/Fasteignir-v1"
            - name: XROAD_PROPERTIES_TIMEOUT
              value: "35000"
            - name: XROAD_RSK_PROCURING_PATH
              value: "IS-DEV/GOV/10006/Skatturinn/relationships-v1"
            - name: XROAD_RSK_PROCURING_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: XROAD_RSK_PROCURING_SCOPE
              value: "[\"@rsk.is/prokura\",\"@rsk.is/prokura:admin\"]"
            - name: XROAD_TJODSKRA_API_PATH
              value: "/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_TJODSKRA_MEMBER_CODE
              value: "10001"
            - name: XROAD_TLS_BASE_PATH
              value: "https://securityserver.dev01.devland.is"
            - name: XROAD_TLS_BASE_PATH_WITH_ENV
              value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_UNIVERSITY_OF_ICELAND_PATH
              value: "IS-DEV/EDU/10010/HI-Protected/brautskraning-v1"
            - name: XROAD_VEHICLES_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Mitt-Svaedi-V1"
            - name: XROAD_VEHICLE_CODETABLES_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Codetables-V1"
            - name: XROAD_VEHICLE_INFOLOCKS_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Infolocks-V1"
            - name: XROAD_VEHICLE_OPERATORS_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Operators-V3"
            - name: XROAD_VEHICLE_OWNER_CHANGE_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Ownerchange-V2"
            - name: XROAD_VEHICLE_PLATE_ORDERING_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-PlateOrdering-V1"
            - name: XROAD_VEHICLE_PLATE_RENEWAL_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-PlateOwnership-V1"
            - name: XROAD_VEHICLE_PRINTING_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Printing-V1"
            - name: XROAD_VEHICLE_SERVICE_FJS_V1_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/VehicleServiceFJS_v1"
            - name: XROAD_VMST_API_PATH
              value: "/VMST-ParentalLeave-Protected/ParentalLeaveApplication-v1"
            - name: XROAD_VMST_MEMBER_CODE
              value: "10003"
            - name: XROAD_WORK_MACHINE_LICENSE_PATH
              value: "IS-DEV/GOV/10013/Vinnueftirlitid-Protected/vinnuvelar-token"
            - name: ZENDESK_CONTACT_FORM_SUBDOMAIN
              value: "stjanilofts"
            - name: ADR_LICENSE_FETCH_TIMEOUT
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: ADR_LICENSE_FETCH_TIMEOUT
            - name: ADR_LICENSE_PASS_TEMPLATE_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: ADR_LICENSE_PASS_TEMPLATE_ID
            - name: APOLLO_BYPASS_CACHE_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: APOLLO_BYPASS_CACHE_SECRET
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PRIVATE_RSA_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PRIVATE_RSA_KEY
            - name: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PUBLIC_IBM_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PUBLIC_IBM_KEY
            - name: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PUBLIC_RSA_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PUBLIC_RSA_KEY
            - name: DISABILITY_LICENSE_FETCH_TIMEOUT
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DISABILITY_LICENSE_FETCH_TIMEOUT
            - name: DISABILITY_LICENSE_PASS_TEMPLATE_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DISABILITY_LICENSE_PASS_TEMPLATE_ID
            - name: DOCUMENT_PROVIDER_BASE_PATH
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOCUMENT_PROVIDER_BASE_PATH
            - name: DOCUMENT_PROVIDER_BASE_PATH_TEST
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOCUMENT_PROVIDER_BASE_PATH_TEST
            - name: DOCUMENT_PROVIDER_CLIENTID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOCUMENT_PROVIDER_CLIENTID
            - name: DOCUMENT_PROVIDER_CLIENTID_TEST
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOCUMENT_PROVIDER_CLIENTID_TEST
            - name: DOCUMENT_PROVIDER_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOCUMENT_PROVIDER_CLIENT_SECRET
            - name: DOCUMENT_PROVIDER_CLIENT_SECRET_TEST
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOCUMENT_PROVIDER_CLIENT_SECRET_TEST
            - name: DOCUMENT_PROVIDER_TOKEN_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOCUMENT_PROVIDER_TOKEN_URL
            - name: DOCUMENT_PROVIDER_TOKEN_URL_TEST
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOCUMENT_PROVIDER_TOKEN_URL_TEST
            - name: DOMSYSLA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOMSYSLA_PASSWORD
            - name: DOMSYSLA_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DOMSYSLA_USERNAME
            - name: DRIVING_LICENSE_BOOK_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DRIVING_LICENSE_BOOK_PASSWORD
            - name: DRIVING_LICENSE_BOOK_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DRIVING_LICENSE_BOOK_USERNAME
            - name: DRIVING_LICENSE_BOOK_XROAD_PATH
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DRIVING_LICENSE_BOOK_XROAD_PATH
            - name: DRIVING_LICENSE_FETCH_TIMEOUT
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DRIVING_LICENSE_FETCH_TIMEOUT
            - name: DRIVING_LICENSE_PASS_TEMPLATE_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: DRIVING_LICENSE_PASS_TEMPLATE_ID
            - name: FINANCIAL_STATEMENTS_INAO_CLIENT_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FINANCIAL_STATEMENTS_INAO_CLIENT_ID
            - name: FINANCIAL_STATEMENTS_INAO_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FINANCIAL_STATEMENTS_INAO_CLIENT_SECRET
            - name: FIREARM_LICENSE_FETCH_TIMEOUT
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FIREARM_LICENSE_FETCH_TIMEOUT
            - name: FIREARM_LICENSE_PASS_TEMPLATE_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FIREARM_LICENSE_PASS_TEMPLATE_ID
            - name: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_AUDIENCE
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_AUDIENCE
            - name: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_CLIENT_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_CLIENT_ID
            - name: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_CLIENT_SECRET
            - name: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_URL
            - name: FISKISTOFA_API_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_API_URL
            - name: FISKISTOFA_POWERBI_CLIENT_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_POWERBI_CLIENT_ID
            - name: FISKISTOFA_POWERBI_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_POWERBI_CLIENT_SECRET
            - name: FISKISTOFA_POWERBI_TENANT_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_POWERBI_TENANT_ID
            - name: FISKISTOFA_ZENTER_CLIENT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_ZENTER_CLIENT_PASSWORD
            - name: FISKISTOFA_ZENTER_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_ZENTER_EMAIL
            - name: FISKISTOFA_ZENTER_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: FISKISTOFA_ZENTER_PASSWORD
            - name: HOUSING_BENEFIT_CALCULATOR_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: HOUSING_BENEFIT_CALCULATOR_PASSWORD
            - name: HOUSING_BENEFIT_CALCULATOR_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: HOUSING_BENEFIT_CALCULATOR_USERNAME
            - name: HSN_WEB_FORM_RESPONSE_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: HSN_WEB_FORM_RESPONSE_SECRET
            - name: HSN_WEB_FORM_RESPONSE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: HSN_WEB_FORM_RESPONSE_URL
            - name: ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_PASSWORD
            - name: ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_USERNAME
            - name: IDENTITY_SERVER_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: IDENTITY_SERVER_CLIENT_SECRET
            - name: ISLYKILL_SERVICE_BASEPATH
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: ISLYKILL_SERVICE_BASEPATH
            - name: ISLYKILL_SERVICE_PASSPHRASE
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: ISLYKILL_SERVICE_PASSPHRASE
            - name: MACHINE_LICENSE_PASS_TEMPLATE_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: MACHINE_LICENSE_PASS_TEMPLATE_ID
            - name: NATIONAL_REGISTRY_B2C_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: NATIONAL_REGISTRY_B2C_CLIENT_SECRET
            - name: PKPASS_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: PKPASS_API_KEY
            - name: PKPASS_API_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: PKPASS_API_URL
            - name: PKPASS_AUTH_RETRIES
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: PKPASS_AUTH_RETRIES
            - name: PKPASS_CACHE_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: PKPASS_CACHE_KEY
            - name: PKPASS_CACHE_TOKEN_EXPIRY_DELTA
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: PKPASS_CACHE_TOKEN_EXPIRY_DELTA
            - name: PKPASS_SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: PKPASS_SECRET_KEY
            - name: POSTHOLF_BASE_PATH
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: POSTHOLF_BASE_PATH
            - name: POSTHOLF_CLIENTID
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: POSTHOLF_CLIENTID
            - name: POSTHOLF_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: POSTHOLF_CLIENT_SECRET
            - name: POSTHOLF_TOKEN_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: POSTHOLF_TOKEN_URL
            - name: REGULATIONS_API_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: REGULATIONS_API_URL
            - name: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
            - name: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
            - name: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
            - name: RLS_PKPASS_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: RLS_PKPASS_API_KEY
            - name: SMART_SOLUTIONS_API_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: SMART_SOLUTIONS_API_URL
            - name: SOFFIA_HOST_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: SOFFIA_HOST_URL
            - name: SOFFIA_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: SOFFIA_PASS
            - name: SOFFIA_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: SOFFIA_USER
            - name: SYSLUMENN_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: SYSLUMENN_HOST
            - name: SYSLUMENN_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: SYSLUMENN_PASSWORD
            - name: SYSLUMENN_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: SYSLUMENN_USERNAME
            - name: TR_PKPASS_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: TR_PKPASS_API_KEY
            - name: VE_PKPASS_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: VE_PKPASS_API_KEY
            - name: XROAD_DRIVING_LICENSE_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_DRIVING_LICENSE_SECRET
            - name: XROAD_HEALTH_INSURANCE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_HEALTH_INSURANCE_PASSWORD
            - name: XROAD_HEALTH_INSURANCE_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_HEALTH_INSURANCE_USERNAME
            - name: XROAD_HEALTH_INSURANCE_V2_XROAD_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_HEALTH_INSURANCE_V2_XROAD_PASSWORD
            - name: XROAD_HEALTH_INSURANCE_V2_XROAD_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_HEALTH_INSURANCE_V2_XROAD_USERNAME
            - name: XROAD_PAYMENT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_PAYMENT_PASSWORD
            - name: XROAD_PAYMENT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_PAYMENT_USER
            - name: XROAD_PROPERTIES_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_PROPERTIES_CLIENT_SECRET
            - name: XROAD_VMST_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: XROAD_VMST_API_KEY
            - name: ZENDESK_CONTACT_FORM_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: ZENDESK_CONTACT_FORM_EMAIL
            - name: ZENDESK_CONTACT_FORM_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-api
                  key: ZENDESK_CONTACT_FORM_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 2048Mi
            requests:
              cpu: 150m
              memory: 512Mi
          volumeMounts:
            - name: config-volume
              mountPath: /etc/config
      volumes:
        - name: config-volume
          configMap:
            name: api
---
# Source: islandis/charts/application-system-api/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-application-system-api
  namespace: application-system
  labels:
    helm.sh/chart: application-system-api-0.0.1
    app.kubernetes.io/name: application-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: application-system-api
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: application-system-api
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: application-system-api
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: application-system-api
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/application-system-api.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migration.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: application-system-api
      securityContext:
        fsGroup: 65534
      initContainers:
        - name: migration
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/application-system-api:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "application_system_api"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "application_system_api"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: application-system-api
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/application-system-api:latest_master"
          imagePullPolicy: IfNotPresent
          command: ["node"]
          args: ["main.js"]
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: APPLICATION_ATTACHMENT_BUCKET
              value: "island-is-dev-storage-application-system"
            - name: AUTH_PUBLIC_API_URL
              value: "https://identity-server.dev01.devland.is/api"
            - name: CLIENT_LOCATION_ORIGIN
              value: "https://beta.dev01.devland.is/umsoknir"
            - name: COMPANY_REGISTRY_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: COMPANY_REGISTRY_XROAD_PROVIDER_ID
              value: "IS-DEV/GOV/10006/Skatturinn/ft-v1"
            - name: CONTENTFUL_HOST
              value: "preview.contentful.com"
            - name: DATA_PROTECTION_COMPLAINT_XROAD_PROVIDER_ID
              value: "IS-DEV/GOV/10026/gopro/kvortun-v1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "application_system_api"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "application_system_api"
            - name: EHIC_XROAD_PROVIDER_ID
              value: "IS-DEV/GOV/10007/SJUKRA-Protected/ehic"
            - name: EMAIL_REGION
              value: "eu-west-1"
            - name: ENDORSEMENTS_API_BASE_PATH
              value: "http://web-endorsement-system-api.endorsement-system.svc.cluster.local"
            - name: FILE_SERVICE_PRESIGN_BUCKET
              value: "island-is-dev-fs-presign-bucket"
            - name: FILE_STORAGE_UPLOAD_BUCKET
              value: "island-is-dev-upload-api"
            - name: FINANCIAL_STATEMENTS_INAO_BASE_PATH
              value: "https://dev-re.crm4.dynamics.com/api/data/v9.1"
            - name: FINANCIAL_STATEMENTS_INAO_ISSUER
              value: "https://login.microsoftonline.com/05a20268-aaea-4bb5-bb78-960b0462185e/v2.0"
            - name: FINANCIAL_STATEMENTS_INAO_SCOPE
              value: "https://dev-re.crm4.dynamics.com/.default"
            - name: FINANCIAL_STATEMENTS_INAO_TOKEN_ENDPOINT
              value: "https://login.microsoftonline.com/05a20268-aaea-4bb5-bb78-960b0462185e/oauth2/v2.0/token"
            - name: FISHING_LICENSE_XROAD_PROVIDER_ID
              value: "IS-DEV/GOV/10012/Fiskistofa-Protected/veidileyfi-v1"
            - name: FUNDING_GOVERNMENT_PROJECTS_APPLICATION_RECIPIENT_EMAIL_ADDRESS
              value: "gunnar.ingi@fjr.is"
            - name: FUNDING_GOVERNMENT_PROJECTS_APPLICATION_RECIPIENT_NAME
              value: "Gunnar Ingi"
            - name: GRAPHQL_API_URL
              value: "http://web-api.islandis.svc.cluster.local"
            - name: IDENTITY_SERVER_CLIENT_ID
              value: "@island.is/clients/application-system"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: INSTITUTION_APPLICATION_RECIPIENT_EMAIL_ADDRESS
              value: "gunnar.ingi@fjr.is"
            - name: INSTITUTION_APPLICATION_RECIPIENT_NAME
              value: "Gunnar Ingi"
            - name: ISLYKILL_CERT
              value: "/etc/config/islyklar.p12"
            - name: LOGIN_SERVICE_APPLICATION_RECIPIENT_EMAIL_ADDRESS
              value: "gunnar.ingi@fjr.is"
            - name: LOGIN_SERVICE_APPLICATION_RECIPIENT_NAME
              value: "Gunnar Ingi"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=976"
            - name: NOVA_ACCEPT_UNAUTHORIZED
              value: "true"
            - name: NOVA_USERNAME
              value: "IslandIs_User_Development"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: REDIS_URL_NODE_01
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: SERVICE_DOCUMENTS_BASEPATH
              value: "http://web-services-documents.services-documents.svc.cluster.local"
            - name: XROAD_BASE_PATH
              value: "http://securityserver.dev01.devland.is"
            - name: XROAD_BASE_PATH_WITH_ENV
              value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_CHARGE_FJS_V2_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/chargeFJS_v2"
            - name: XROAD_CHARGE_FJS_V2_TIMEOUT
              value: "20000"
            - name: XROAD_CLIENT_ID
              value: "IS-DEV/GOV/10000/island-is-client"
            - name: XROAD_COURT_BANKRUPTCY_CERT_PATH
              value: "IS-DEV/GOV/10019/Domstolasyslan/JusticePortal-v1"
            - name: XROAD_CRIMINAL_RECORD_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/Sakavottord-PDF-v2"
            - name: XROAD_DIGITAL_TACHOGRAPH_DRIVERS_CARD_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Okuritar-V1"
            - name: XROAD_DRIVING_LICENSE_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/RafraentOkuskirteini-v1"
            - name: XROAD_DRIVING_LICENSE_V2_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/RafraentOkuskirteini-v2"
            - name: XROAD_DRIVING_LICENSE_V4_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/Okuskirteini-v4"
            - name: XROAD_DRIVING_LICENSE_V5_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/Okuskirteini-v5"
            - name: XROAD_FINANCES_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/financeIsland"
            - name: XROAD_FINANCIAL_AID_BACKEND_PATH
              value: "IS-DEV/MUN/10023/samband-sveitarfelaga/financial-aid-backend"
            - name: XROAD_HEALTH_INSURANCE_ID
              value: "IS-DEV/GOV/10007/SJUKRA-Protected"
            - name: XROAD_HEALTH_INSURANCE_MY_PAGES_PATH
              value: "IS-DEV/GOV/10007/SJUKRA-Protected/minarsidur"
            - name: XROAD_HEALTH_INSURANCE_WSDLURL
              value: "https://test-huld.sjukra.is/islandrg?wsdl"
            - name: XROAD_NATIONAL_REGISTRY_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: XROAD_NATIONAL_REGISTRY_SERVICE_PATH
              value: "IS-DEV/GOV/10001/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_PASSPORT_LICENSE_PATH
              value: "IS-DEV/GOV/10001/SKRA-Protected/Forskraning-V1"
            - name: XROAD_PAYMENT_ADDITION_CALLBACK_URL
              value: "/"
            - name: XROAD_PAYMENT_BASE_CALLBACK_URL
              value: "XROAD:/IS-DEV/GOV/10000/island-is/application-callback-v2/application-payment/"
            - name: XROAD_PAYMENT_PROVIDER_ID
              value: "IS-DEV/GOV/10021/FJS-Public"
            - name: XROAD_PAYMENT_SCHEDULE_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/paymentSchedule_v1"
            - name: XROAD_PROPERTIES_SERVICE_V2_PATH
              value: "IS-DEV/GOV/10033/HMS-Protected/Fasteignir-v1"
            - name: XROAD_TJODSKRA_API_PATH
              value: "/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_TJODSKRA_MEMBER_CODE
              value: "10001"
            - name: XROAD_TLS_BASE_PATH
              value: "https://securityserver.dev01.devland.is"
            - name: XROAD_TLS_BASE_PATH_WITH_ENV
              value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_VEHICLES_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Mitt-Svaedi-V1"
            - name: XROAD_VEHICLE_CODETABLES_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Codetables-V1"
            - name: XROAD_VEHICLE_INFOLOCKS_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Infolocks-V1"
            - name: XROAD_VEHICLE_OPERATORS_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Operators-V3"
            - name: XROAD_VEHICLE_OWNER_CHANGE_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Ownerchange-V2"
            - name: XROAD_VEHICLE_PLATE_ORDERING_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-PlateOrdering-V1"
            - name: XROAD_VEHICLE_PLATE_RENEWAL_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-PlateOwnership-V1"
            - name: XROAD_VEHICLE_PRINTING_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Vehicle-Printing-V1"
            - name: XROAD_VEHICLE_SERVICE_FJS_V1_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/VehicleServiceFJS_v1"
            - name: XROAD_VMST_API_PATH
              value: "/VMST-ParentalLeave-Protected/ParentalLeaveApplication-v1"
            - name: XROAD_VMST_MEMBER_CODE
              value: "10003"
            - name: ARK_BASE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: ARK_BASE_URL
            - name: AUTH_JWT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: AUTH_JWT_SECRET
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: DATA_PROTECTION_COMPLAINT_API_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DATA_PROTECTION_COMPLAINT_API_PASSWORD
            - name: DATA_PROTECTION_COMPLAINT_API_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DATA_PROTECTION_COMPLAINT_API_USERNAME
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DB_PASS
            - name: DOCUMENT_PROVIDER_ONBOARDING_REVIEWER
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DOCUMENT_PROVIDER_ONBOARDING_REVIEWER
            - name: DOKOBIT_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DOKOBIT_ACCESS_TOKEN
            - name: DOKOBIT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DOKOBIT_URL
            - name: DOMSYSLA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DOMSYSLA_PASSWORD
            - name: DOMSYSLA_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DOMSYSLA_USERNAME
            - name: DRIVING_LICENSE_BOOK_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DRIVING_LICENSE_BOOK_PASSWORD
            - name: DRIVING_LICENSE_BOOK_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DRIVING_LICENSE_BOOK_USERNAME
            - name: DRIVING_LICENSE_BOOK_XROAD_PATH
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: DRIVING_LICENSE_BOOK_XROAD_PATH
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: EMAIL_FROM
            - name: EMAIL_FROM_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: EMAIL_FROM_NAME
            - name: EMAIL_REPLY_TO
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: EMAIL_REPLY_TO
            - name: EMAIL_REPLY_TO_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: EMAIL_REPLY_TO_NAME
            - name: FINANCIAL_STATEMENTS_INAO_CLIENT_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: FINANCIAL_STATEMENTS_INAO_CLIENT_ID
            - name: FINANCIAL_STATEMENTS_INAO_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: FINANCIAL_STATEMENTS_INAO_CLIENT_SECRET
            - name: IDENTITY_SERVER_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: IDENTITY_SERVER_CLIENT_SECRET
            - name: ISLYKILL_SERVICE_BASEPATH
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: ISLYKILL_SERVICE_BASEPATH
            - name: ISLYKILL_SERVICE_PASSPHRASE
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: ISLYKILL_SERVICE_PASSPHRASE
            - name: NOVA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: NOVA_PASSWORD
            - name: NOVA_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: NOVA_URL
            - name: SYSLUMENN_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: SYSLUMENN_HOST
            - name: SYSLUMENN_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: SYSLUMENN_PASSWORD
            - name: SYSLUMENN_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: SYSLUMENN_USERNAME
            - name: VMST_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: VMST_ID
            - name: XROAD_DRIVING_LICENSE_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_DRIVING_LICENSE_SECRET
            - name: XROAD_HEALTH_INSURANCE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_HEALTH_INSURANCE_PASSWORD
            - name: XROAD_HEALTH_INSURANCE_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_HEALTH_INSURANCE_USERNAME
            - name: XROAD_HEALTH_INSURANCE_V2_XROAD_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_HEALTH_INSURANCE_V2_XROAD_PASSWORD
            - name: XROAD_HEALTH_INSURANCE_V2_XROAD_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_HEALTH_INSURANCE_V2_XROAD_USERNAME
            - name: XROAD_PAYMENT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_PAYMENT_PASSWORD
            - name: XROAD_PAYMENT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_PAYMENT_USER
            - name: XROAD_PROPERTIES_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_PROPERTIES_CLIENT_SECRET
            - name: XROAD_VMST_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-api
                  key: XROAD_VMST_API_KEY
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 1024Mi
            requests:
              cpu: 75m
              memory: 512Mi
          volumeMounts:
            - name: config-volume
              mountPath: /etc/config
      volumes:
        - name: config-volume
          configMap:
            name: application-system-api
---
# Source: islandis/charts/application-system-form/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-application-system-form
  namespace: application-system
  labels:
    helm.sh/chart: application-system-form-0.0.1
    app.kubernetes.io/name: application-system-form
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: application-system-form
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: application-system-form
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: application-system-form
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: application-system-form
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/application-system-form.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: application-system-form
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/application-system-form:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: BASEPATH
              value: "/umsoknir"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: SI_PUBLIC_ENVIRONMENT
              value: "dev"
            - name: SI_PUBLIC_GRAPHQL_PATH
              value: ""
            - name: SI_PUBLIC_IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-form
                  key: CONFIGCAT_SDK_KEY
            - name: SI_PUBLIC_CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-form
                  key: SI_PUBLIC_CONFIGCAT_SDK_KEY
            - name: SI_PUBLIC_DD_RUM_APPLICATION_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-form
                  key: SI_PUBLIC_DD_RUM_APPLICATION_ID
            - name: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-application-system-form
                  key: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 10m
              memory: 128Mi
---
# Source: islandis/charts/consultation-portal/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-consultation-portal
  namespace: consultation-portal
  labels:
    helm.sh/chart: consultation-portal-0.0.1
    app.kubernetes.io/name: consultation-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: consultation-portal
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: consultation-portal
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: consultation-portal
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: consultation-portal
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/consultation-portal.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: consultation-portal
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/consultation-portal:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: API_URL
              value: "http://web-api.islandis.svc.cluster.local"
            - name: BACKEND_DL_URL
              value: "https://samradapi-test.devland.is/api/Documents/"
            - name: BASEPATH
              value: "/consultation-portal"
            - name: ENVIRONMENT
              value: "dev"
            - name: IDENTITY_SERVER_ISSUER_DOMAIN
              value: "identity-server.dev01.devland.is"
            - name: NEXTAUTH_URL
              value: "https://beta.dev01.devland.is/samradsgatt/api/auth"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-consultation-portal
                  key: CONFIGCAT_SDK_KEY
            - name: DD_RUM_APPLICATION_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-consultation-portal
                  key: DD_RUM_APPLICATION_ID
            - name: DD_RUM_CLIENT_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-consultation-portal
                  key: DD_RUM_CLIENT_TOKEN
            - name: IDENTITY_SERVER_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-consultation-portal
                  key: IDENTITY_SERVER_SECRET
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 200m
              memory: 256Mi
---
# Source: islandis/charts/contentful-apps/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-contentful-apps
  namespace: contentful-apps
  labels:
    helm.sh/chart: contentful-apps-0.0.1
    app.kubernetes.io/name: contentful-apps
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: contentful-apps
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: contentful-apps
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: contentful-apps
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: contentful-apps
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/contentful-apps.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: contentful-apps
      securityContext:
        fsGroup: 65534
      containers:
        - name: contentful-apps
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/contentful-apps:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-contentful-apps
                  key: CONFIGCAT_SDK_KEY
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
---
# Source: islandis/charts/contentful-entry-tagger-service/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-contentful-entry-tagger-service
  namespace: contentful-entry-tagger
  labels:
    helm.sh/chart: contentful-entry-tagger-service-0.0.1
    app.kubernetes.io/name: contentful-entry-tagger-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: contentful-entry-tagger-service
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: contentful-entry-tagger-service
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: contentful-entry-tagger-service
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: contentful-entry-tagger-service
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/contentful-entry-tagger-service.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: contentful-entry-tagger
      securityContext:
        fsGroup: 65534
      containers:
        - name: contentful-entry-tagger-service
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-contentful-entry-tagger:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-contentful-entry-tagger-service
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_MANAGEMENT_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-contentful-entry-tagger-service
                  key: CONTENTFUL_MANAGEMENT_ACCESS_TOKEN
            - name: CONTENTFUL_REQUEST_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-contentful-entry-tagger-service
                  key: CONTENTFUL_REQUEST_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
---
# Source: islandis/charts/contentful-translation-extension/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-contentful-translation-extension
  namespace: contentful-translation-extension
  labels:
    helm.sh/chart: contentful-translation-extension-0.0.1
    app.kubernetes.io/name: contentful-translation-extension
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: contentful-translation-extension
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: contentful-translation-extension
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: contentful-translation-extension
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: contentful-translation-extension
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/contentful-translation-extension.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: contentful-translation-extension
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/contentful-translation-extension:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-contentful-translation-extension
                  key: CONFIGCAT_SDK_KEY
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
---
# Source: islandis/charts/download-service/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-download-service
  namespace: download-service
  labels:
    helm.sh/chart: download-service-0.0.1
    app.kubernetes.io/name: download-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: download-service
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: download-service
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: download-service
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: download-service
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/download-service.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: download-service
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/download-service:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: download/v1/liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: download/v1/readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: IDENTITY_SERVER_CLIENT_ID
              value: "@island.is/clients/download-service"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: REGULATIONS_ADMIN_URL
              value: "http://web-regulations-admin-backend.regulations-admin.svc.cluster.local"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: XROAD_BASE_PATH
              value: "http://securityserver.dev01.devland.is"
            - name: XROAD_BASE_PATH_WITH_ENV
              value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_CLIENT_ID
              value: "IS-DEV/GOV/10000/island-is-client"
            - name: XROAD_FINANCES_PATH
              value: "IS-DEV/GOV/10021/FJS-Public/financeIsland"
            - name: XROAD_MMS_GRADE_SERVICE_ID
              value: "IS-DEV/EDU/10020/MMS-Protected/grade-api-v1"
            - name: XROAD_MMS_LICENSE_SERVICE_ID
              value: "IS-DEV/EDU/10020/MMS-Protected/license-api-v1"
            - name: XROAD_TLS_BASE_PATH
              value: "https://securityserver.dev01.devland.is"
            - name: XROAD_TLS_BASE_PATH_WITH_ENV
              value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_UNIVERSITY_OF_ICELAND_PATH
              value: "IS-DEV/EDU/10010/HI-Protected/brautskraning-v1"
            - name: XROAD_VEHICLES_PATH
              value: "IS-DEV/GOV/10017/Samgongustofa-Protected/Mitt-Svaedi-V1"
            - name: XROAD_WORK_MACHINE_LICENSE_PATH
              value: "IS-DEV/GOV/10013/Vinnueftirlitid-Protected/vinnuvelar-token"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: CONFIGCAT_SDK_KEY
            - name: IDENTITY_SERVER_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: IDENTITY_SERVER_CLIENT_SECRET
            - name: POSTHOLF_BASE_PATH
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: POSTHOLF_BASE_PATH
            - name: POSTHOLF_CLIENTID
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: POSTHOLF_CLIENTID
            - name: POSTHOLF_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: POSTHOLF_CLIENT_SECRET
            - name: POSTHOLF_TOKEN_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: POSTHOLF_TOKEN_URL
            - name: REGULATIONS_API_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: REGULATIONS_API_URL
            - name: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
            - name: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
            - name: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
              valueFrom:
                secretKeyRef:
                  name: release-name-download-service
                  key: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 200m
              memory: 256Mi
---
# Source: islandis/charts/endorsement-system-api/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-endorsement-system-api
  namespace: endorsement-system
  labels:
    helm.sh/chart: endorsement-system-api-0.0.1
    app.kubernetes.io/name: endorsement-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: endorsement-system-api
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: endorsement-system-api
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: endorsement-system-api
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: endorsement-system-api
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/endorsement-system-api.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migrations.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: endorsement-system-api
      securityContext:
        fsGroup: 65534
      initContainers:
        - name: migrations
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-endorsements-api:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "services_endorsements_api"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "services_endorsements_api"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-endorsement-system-api-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: endorsement-system-api
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-endorsements-api:latest_master"
          imagePullPolicy: IfNotPresent
          command: ["node"]
          args: ["--tls-min-v1.0","--no-experimental-fetch","main.js"]
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "services_endorsements_api"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "services_endorsements_api"
            - name: EMAIL_FROM_ADDRESS
              value: "development@island.is"
            - name: EMAIL_FROM_NAME
              value: "devland.is"
            - name: EMAIL_REGION
              value: "eu-west-1"
            - name: IDENTITY_SERVER_CLIENT_ID
              value: "@island.is/clients/endorsement"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: XROAD_BASE_PATH
              value: "http://securityserver.dev01.devland.is"
            - name: XROAD_BASE_PATH_WITH_ENV
              value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_CLIENT_ID
              value: "IS-DEV/GOV/10000/island-is-client"
            - name: XROAD_NATIONAL_REGISTRY_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: XROAD_NATIONAL_REGISTRY_SERVICE_PATH
              value: "IS-DEV/GOV/10001/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_TJODSKRA_API_PATH
              value: "/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_TJODSKRA_MEMBER_CODE
              value: "10001"
            - name: XROAD_TLS_BASE_PATH
              value: "https://securityserver.dev01.devland.is"
            - name: XROAD_TLS_BASE_PATH_WITH_ENV
              value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-endorsement-system-api
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-endorsement-system-api
                  key: DB_PASS
            - name: IDENTITY_SERVER_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-endorsement-system-api
                  key: IDENTITY_SERVER_CLIENT_SECRET
            - name: SOFFIA_HOST_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-endorsement-system-api
                  key: SOFFIA_HOST_URL
            - name: SOFFIA_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-endorsement-system-api
                  key: SOFFIA_PASS
            - name: SOFFIA_SOAP_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-endorsement-system-api
                  key: SOFFIA_SOAP_URL
            - name: SOFFIA_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-endorsement-system-api
                  key: SOFFIA_USER
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
---
# Source: islandis/charts/github-actions-cache/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-github-actions-cache
  namespace: github-actions-cache
  labels:
    helm.sh/chart: github-actions-cache-0.0.1
    app.kubernetes.io/name: github-actions-cache
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: github-actions-cache
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 5
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: github-actions-cache
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: github-actions-cache
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: github-actions-cache
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/github-actions-cache.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: github-actions-cache
      securityContext:
        fsGroup: 65534
      containers:
        - name: github-actions-cache
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/github-actions-cache:latest_master"
          imagePullPolicy: IfNotPresent
          command: ["node"]
          args: ["--tls-min-v1.0","--no-experimental-fetch","main.js"]
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /health
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: REDIS_NODES
              value: "clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-github-actions-cache
                  key: CONFIGCAT_SDK_KEY
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 256Mi
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-icelandic-names-registry-backend
  namespace: icelandic-names-registry
  labels:
    helm.sh/chart: icelandic-names-registry-backend-0.0.1
    app.kubernetes.io/name: icelandic-names-registry-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: icelandic-names-registry-backend
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: icelandic-names-registry-backend
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: icelandic-names-registry-backend
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: icelandic-names-registry-backend
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/icelandic-names-registry-backend.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migrations.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/seeds.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      initContainers:
        - name: migrations
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/icelandic-names-registry-backend:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "icelandic_names_registry_backend"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "icelandic_names_registry_backend"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-icelandic-names-registry-backend-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
        - name: seeds
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/icelandic-names-registry-backend:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:seed:all"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "icelandic_names_registry_backend"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "icelandic_names_registry_backend"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-icelandic-names-registry-backend-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: icelandic-names-registry-backend
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/icelandic-names-registry-backend:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "icelandic_names_registry_backend"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "icelandic_names_registry_backend"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-icelandic-names-registry-backend
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-icelandic-names-registry-backend
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
---
# Source: islandis/charts/island-ui-storybook/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-island-ui-storybook
  namespace: storybook
  labels:
    helm.sh/chart: island-ui-storybook-0.0.1
    app.kubernetes.io/name: island-ui-storybook
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: island-ui-storybook
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: island-ui-storybook
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: island-ui-storybook
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: island-ui-storybook
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/island-ui-storybook.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: island-ui-storybook
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/island-ui-storybook:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-island-ui-storybook
                  key: CONFIGCAT_SDK_KEY
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 10m
              memory: 128Mi
---
# Source: islandis/charts/license-api/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-license-api
  namespace: license-api
  labels:
    helm.sh/chart: license-api-0.0.1
    app.kubernetes.io/name: license-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: license-api
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: license-api
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: license-api
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: license-api
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/license-api.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: license-api
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/license-api:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: XROAD_BASE_PATH
              value: "http://securityserver.dev01.devland.is"
            - name: XROAD_BASE_PATH_WITH_ENV
              value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_CLIENT_ID
              value: "IS-DEV/GOV/10000/island-is-client"
            - name: XROAD_DISABILITY_LICENSE_PATH
              value: "IS-DEV/GOV/10008/TR-Protected/oryrki-v1"
            - name: XROAD_DRIVING_LICENSE_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/RafraentOkuskirteini-v1"
            - name: XROAD_DRIVING_LICENSE_V2_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/RafraentOkuskirteini-v2"
            - name: XROAD_DRIVING_LICENSE_V4_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/Okuskirteini-v4"
            - name: XROAD_DRIVING_LICENSE_V5_PATH
              value: "r1/IS-DEV/GOV/10005/Logreglan-Protected/Okuskirteini-v5"
            - name: XROAD_FIREARM_LICENSE_PATH
              value: "IS-DEV/GOV/10005/Logreglan-Protected/island-api-v1"
            - name: XROAD_TLS_BASE_PATH
              value: "https://securityserver.dev01.devland.is"
            - name: XROAD_TLS_BASE_PATH_WITH_ENV
              value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: CONFIGCAT_SDK_KEY
            - name: DISABILITY_LICENSE_FETCH_TIMEOUT
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: DISABILITY_LICENSE_FETCH_TIMEOUT
            - name: DISABILITY_LICENSE_PASS_TEMPLATE_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: DISABILITY_LICENSE_PASS_TEMPLATE_ID
            - name: DRIVING_LICENSE_FETCH_TIMEOUT
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: DRIVING_LICENSE_FETCH_TIMEOUT
            - name: DRIVING_LICENSE_PASS_TEMPLATE_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: DRIVING_LICENSE_PASS_TEMPLATE_ID
            - name: FIREARM_LICENSE_FETCH_TIMEOUT
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: FIREARM_LICENSE_FETCH_TIMEOUT
            - name: FIREARM_LICENSE_PASS_TEMPLATE_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: FIREARM_LICENSE_PASS_TEMPLATE_ID
            - name: PKPASS_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: PKPASS_API_KEY
            - name: PKPASS_API_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: PKPASS_API_URL
            - name: PKPASS_AUTH_RETRIES
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: PKPASS_AUTH_RETRIES
            - name: PKPASS_CACHE_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: PKPASS_CACHE_KEY
            - name: PKPASS_CACHE_TOKEN_EXPIRY_DELTA
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: PKPASS_CACHE_TOKEN_EXPIRY_DELTA
            - name: PKPASS_SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: PKPASS_SECRET_KEY
            - name: RLS_OPEN_LOOKUP_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: RLS_OPEN_LOOKUP_API_KEY
            - name: RLS_PKPASS_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: RLS_PKPASS_API_KEY
            - name: SMART_SOLUTIONS_API_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: SMART_SOLUTIONS_API_URL
            - name: TR_PKPASS_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: TR_PKPASS_API_KEY
            - name: XROAD_DRIVING_LICENSE_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-license-api
                  key: XROAD_DRIVING_LICENSE_SECRET
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 15m
              memory: 256Mi
---
# Source: islandis/charts/portals-admin/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-portals-admin
  namespace: portals-admin
  labels:
    helm.sh/chart: portals-admin-0.0.1
    app.kubernetes.io/name: portals-admin
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: portals-admin
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: portals-admin
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: portals-admin
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: portals-admin
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/portals-admin.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: portals-admin
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/portals-admin:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: BASEPATH
              value: "/stjornbord"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: SI_PUBLIC_ENVIRONMENT
              value: "dev"
            - name: SI_PUBLIC_IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-portals-admin
                  key: CONFIGCAT_SDK_KEY
            - name: SI_PUBLIC_CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-portals-admin
                  key: SI_PUBLIC_CONFIGCAT_SDK_KEY
            - name: SI_PUBLIC_DD_RUM_APPLICATION_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-portals-admin
                  key: SI_PUBLIC_DD_RUM_APPLICATION_ID
            - name: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-portals-admin
                  key: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 200m
              memory: 256Mi
---
# Source: islandis/charts/regulations-admin-backend/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-regulations-admin-backend
  namespace: regulations-admin
  labels:
    helm.sh/chart: regulations-admin-backend-0.0.1
    app.kubernetes.io/name: regulations-admin-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: regulations-admin-backend
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: regulations-admin-backend
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: regulations-admin-backend
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: regulations-admin-backend
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/regulations-admin-backend.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migration.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      initContainers:
        - name: migration
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/regulations-admin-backend:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "regulations_admin_backend"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "regulations_admin_backend"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-regulations-admin-backend-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: regulations-admin-backend
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/regulations-admin-backend:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "regulations_admin_backend"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "regulations_admin_backend"
            - name: IDENTITY_SERVER_CLIENT_ID
              value: "@island.is/clients/regulations-admin-api"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: XROAD_BASE_PATH
              value: "http://securityserver.dev01.devland.is"
            - name: XROAD_BASE_PATH_WITH_ENV
              value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: XROAD_CLIENT_ID
              value: "IS-DEV/GOV/10000/island-is-client"
            - name: XROAD_NATIONAL_REGISTRY_REDIS_NODES
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: XROAD_NATIONAL_REGISTRY_SERVICE_PATH
              value: "IS-DEV/GOV/10001/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_TJODSKRA_API_PATH
              value: "/SKRA-Protected/Einstaklingar-v1"
            - name: XROAD_TJODSKRA_MEMBER_CODE
              value: "10001"
            - name: XROAD_TLS_BASE_PATH
              value: "https://securityserver.dev01.devland.is"
            - name: XROAD_TLS_BASE_PATH_WITH_ENV
              value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-regulations-admin-backend
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-regulations-admin-backend
                  key: DB_PASS
            - name: IDENTITY_SERVER_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-regulations-admin-backend
                  key: IDENTITY_SERVER_CLIENT_SECRET
            - name: REGULATIONS_API_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-regulations-admin-backend
                  key: REGULATIONS_API_URL
            - name: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
              valueFrom:
                secretKeyRef:
                  name: release-name-regulations-admin-backend
                  key: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
            - name: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
              valueFrom:
                secretKeyRef:
                  name: release-name-regulations-admin-backend
                  key: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
            - name: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
              valueFrom:
                secretKeyRef:
                  name: release-name-regulations-admin-backend
                  key: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 256Mi
---
# Source: islandis/charts/search-indexer-service/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-search-indexer-service
  namespace: search-indexer
  labels:
    helm.sh/chart: search-indexer-service-0.0.1
    app.kubernetes.io/name: search-indexer-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: search-indexer-service
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: search-indexer-service
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: search-indexer-service
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: search-indexer-service
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/search-indexer-service.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migrate-aws.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migrate-elastic.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migrate-kibana.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: search-indexer
      securityContext:
        fsGroup: 65534
      initContainers:
        - name: migrate-aws
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-search-indexer:latest_master"
          command: ["/usr/local/bin/node"]
          args: ["/webapp/migrateAws.js"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: AIR_DISCOUNT_SCHEME_FRONTEND_HOSTNAME
              value: "loftbru.dev01.devland.is"
            - name: APPLICATION_URL
              value: "http://search-indexer-service"
            - name: CONTENTFUL_ENTRY_FETCH_CHUNK_SIZE
              value: "20"
            - name: CONTENTFUL_ENVIRONMENT
              value: "master"
            - name: CONTENTFUL_HOST
              value: "preview.contentful.com"
            - name: CONTENTFUL_SPACE
              value: "8k0h54kbe6bj"
            - name: ELASTIC_DOMAIN
              value: "search"
            - name: ELASTIC_INDEX
              value: "island-is"
            - name: ELASTIC_NODE
              value: "https://vpc-search-njkekqydiegezhr4vqpkfnw5la.eu-west-1.es.amazonaws.com"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=2048"
            - name: S3_BUCKET
              value: "dev-es-custom-packages"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service-init-container
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service-init-container
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 2048Mi
            requests:
              cpu: 100m
              memory: 512Mi
        - name: migrate-elastic
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-search-indexer:latest_master"
          command: ["/usr/local/bin/node"]
          args: ["/webapp/migrateElastic.js"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: AIR_DISCOUNT_SCHEME_FRONTEND_HOSTNAME
              value: "loftbru.dev01.devland.is"
            - name: APPLICATION_URL
              value: "http://search-indexer-service"
            - name: CONTENTFUL_ENTRY_FETCH_CHUNK_SIZE
              value: "20"
            - name: CONTENTFUL_ENVIRONMENT
              value: "master"
            - name: CONTENTFUL_HOST
              value: "preview.contentful.com"
            - name: CONTENTFUL_SPACE
              value: "8k0h54kbe6bj"
            - name: ELASTIC_DOMAIN
              value: "search"
            - name: ELASTIC_INDEX
              value: "island-is"
            - name: ELASTIC_NODE
              value: "https://vpc-search-njkekqydiegezhr4vqpkfnw5la.eu-west-1.es.amazonaws.com"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=2048"
            - name: S3_BUCKET
              value: "dev-es-custom-packages"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service-init-container
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service-init-container
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 700m
              memory: 2048Mi
            requests:
              cpu: 300m
              memory: 1536Mi
        - name: migrate-kibana
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-search-indexer:latest_master"
          command: ["/usr/local/bin/node"]
          args: ["/webapp/migrateKibana.js"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: AIR_DISCOUNT_SCHEME_FRONTEND_HOSTNAME
              value: "loftbru.dev01.devland.is"
            - name: APPLICATION_URL
              value: "http://search-indexer-service"
            - name: CONTENTFUL_ENTRY_FETCH_CHUNK_SIZE
              value: "20"
            - name: CONTENTFUL_ENVIRONMENT
              value: "master"
            - name: CONTENTFUL_HOST
              value: "preview.contentful.com"
            - name: CONTENTFUL_SPACE
              value: "8k0h54kbe6bj"
            - name: ELASTIC_DOMAIN
              value: "search"
            - name: ELASTIC_INDEX
              value: "island-is"
            - name: ELASTIC_NODE
              value: "https://vpc-search-njkekqydiegezhr4vqpkfnw5la.eu-west-1.es.amazonaws.com"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=2048"
            - name: S3_BUCKET
              value: "dev-es-custom-packages"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service-init-container
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service-init-container
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 2048Mi
            requests:
              cpu: 100m
              memory: 512Mi
      containers:
        - name: search-indexer-service
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-search-indexer:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: AIR_DISCOUNT_SCHEME_FRONTEND_HOSTNAME
              value: "loftbru.dev01.devland.is"
            - name: APPLICATION_URL
              value: "http://search-indexer-service"
            - name: CONTENTFUL_ENTRY_FETCH_CHUNK_SIZE
              value: "20"
            - name: CONTENTFUL_ENVIRONMENT
              value: "master"
            - name: CONTENTFUL_HOST
              value: "preview.contentful.com"
            - name: CONTENTFUL_SPACE
              value: "8k0h54kbe6bj"
            - name: ELASTIC_INDEX
              value: "island-is"
            - name: ELASTIC_NODE
              value: "https://vpc-search-njkekqydiegezhr4vqpkfnw5la.eu-west-1.es.amazonaws.com"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=2000"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: API_CMS_DELETION_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service
                  key: API_CMS_DELETION_TOKEN
            - name: API_CMS_SYNC_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service
                  key: API_CMS_SYNC_TOKEN
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-search-indexer-service
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 800m
              memory: 2048Mi
            requests:
              cpu: 400m
              memory: 1536Mi
---
# Source: islandis/charts/service-portal-api/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-service-portal-api
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-api-0.0.1
    app.kubernetes.io/name: service-portal-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: service-portal-api
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: service-portal-api
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: service-portal-api
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: service-portal-api
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/service-portal-api.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migration.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: service-portal-api
      securityContext:
        fsGroup: 65534
      initContainers:
        - name: migration
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-user-profile:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "service_portal_api"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "service_portal_api"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: service-portal-api
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-user-profile:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "service_portal_api"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "service_portal_api"
            - name: EMAIL_REGION
              value: "eu-west-1"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=976"
            - name: NOVA_ACCEPT_UNAUTHORIZED
              value: "true"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: SERVICE_PORTAL_BASE_URL
              value: "https://beta.dev01.devland.is/minarsidur"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: DB_PASS
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: EMAIL_FROM
            - name: EMAIL_FROM_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: EMAIL_FROM_NAME
            - name: EMAIL_REPLY_TO
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: EMAIL_REPLY_TO
            - name: EMAIL_REPLY_TO_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: EMAIL_REPLY_TO_NAME
            - name: NOVA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: NOVA_PASSWORD
            - name: NOVA_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: NOVA_URL
            - name: NOVA_USERNAME
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal-api
                  key: NOVA_USERNAME
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 800m
              memory: 1024Mi
            requests:
              cpu: 400m
              memory: 512Mi
---
# Source: islandis/charts/service-portal/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-service-portal
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-0.0.1
    app.kubernetes.io/name: service-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: service-portal
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: service-portal
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: service-portal
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: service-portal
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/service-portal.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: service-portal
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/service-portal:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: BASEPATH
              value: "/minarsidur"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: SI_PUBLIC_ENVIRONMENT
              value: "dev"
            - name: SI_PUBLIC_GRAPHQL_API
              value: "/api/graphql"
            - name: SI_PUBLIC_IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal
                  key: CONFIGCAT_SDK_KEY
            - name: SI_PUBLIC_CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal
                  key: SI_PUBLIC_CONFIGCAT_SDK_KEY
            - name: SI_PUBLIC_DD_RUM_APPLICATION_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal
                  key: SI_PUBLIC_DD_RUM_APPLICATION_ID
            - name: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-service-portal
                  key: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 300m
              memory: 256Mi
            requests:
              cpu: 5m
              memory: 32Mi
---
# Source: islandis/charts/services-documents/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-services-documents
  namespace: services-documents
  labels:
    helm.sh/chart: services-documents-0.0.1
    app.kubernetes.io/name: services-documents
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: services-documents
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: services-documents
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: services-documents
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: services-documents
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/services-documents.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migration.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      initContainers:
        - name: migration
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-documents:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "services_documents"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "services_documents"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-services-documents-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: services-documents
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-documents:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "services_documents"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "services_documents"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-services-documents
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-services-documents
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
---
# Source: islandis/charts/services-sessions-worker/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-services-sessions-worker
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-worker-0.0.1
    app.kubernetes.io/name: services-sessions-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: services-sessions-worker
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: services-sessions-worker
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: services-sessions-worker
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: services-sessions-worker
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/services-sessions-worker.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migration.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: sessions-worker
      securityContext:
        fsGroup: 65534
      initContainers:
        - name: migration
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-sessions:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_EXTENSIONS
              value: "uuid-ossp"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "services_sessions"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "services_sessions"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-services-sessions-worker-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: services-sessions-worker
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-sessions:latest_master"
          imagePullPolicy: IfNotPresent
          command: ["node"]
          args: ["main.js","--job=worker"]
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_EXTENSIONS
              value: "uuid-ossp"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "services_sessions"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "services_sessions"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: REDIS_URL_NODE_01
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: REDIS_USE_SSL
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-services-sessions-worker
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-services-sessions-worker
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 256Mi
---
# Source: islandis/charts/services-sessions/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-services-sessions
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-0.0.1
    app.kubernetes.io/name: services-sessions
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: services-sessions
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: services-sessions
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: services-sessions
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: services-sessions
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/services-sessions.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: services-sessions
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-sessions:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "services_sessions"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "services_sessions_read"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: REDIS_URL_NODE_01
              value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
            - name: REDIS_USE_SSL
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-services-sessions
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-services-sessions
                  key: DB_PASS
            - name: GEOIP_LICENSE_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-services-sessions
                  key: GEOIP_LICENSE_KEY
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 250m
              memory: 512Mi
            requests:
              cpu: 25m
              memory: 300Mi
          volumeMounts:
            - mountPath: /webapp/node_modules/geoip-lite/data
              name: sessions-geoip-db
      volumes:
        - name: sessions-geoip-db
          persistentVolumeClaim:
            claimName: sessions-geoip-db
---
# Source: islandis/charts/skilavottord-web/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-skilavottord-web
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-web-0.0.1
    app.kubernetes.io/name: skilavottord-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: skilavottord-web
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: skilavottord-web
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: skilavottord-web
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: skilavottord-web
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/skilavottord-web.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: skilavottord-web
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/skilavottord-web:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: API_URL
              value: "http://web-skilavottord-ws"
            - name: ENVIRONMENT
              value: "dev"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-web
                  key: CONFIGCAT_SDK_KEY
            - name: DD_RUM_APPLICATION_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-web
                  key: DD_RUM_APPLICATION_ID
            - name: DD_RUM_CLIENT_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-web
                  key: DD_RUM_CLIENT_TOKEN
            - name: IDENTITY_SERVER_DOMAIN
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-web
                  key: IDENTITY_SERVER_DOMAIN
            - name: IDENTITY_SERVER_LOGOUT_REDIRECT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-web
                  key: IDENTITY_SERVER_LOGOUT_REDIRECT_URL
            - name: NEXTAUTH_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-web
                  key: NEXTAUTH_URL
            - name: SKILAVOTTORD_WEB_IDS_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-web
                  key: SKILAVOTTORD_WEB_IDS_CLIENT_SECRET
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 20m
              memory: 128Mi
---
# Source: islandis/charts/skilavottord-ws/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-skilavottord-ws
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-ws-0.0.1
    app.kubernetes.io/name: skilavottord-ws
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: skilavottord-ws
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: skilavottord-ws
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: skilavottord-ws
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: skilavottord-ws
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/skilavottord-ws.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
        ad.datadoghq.com/migration.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      initContainers:
        - name: migration
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/skilavottord-ws:latest_master"
          command: ["npx"]
          args: ["sequelize-cli","db:migrate"]
          env:
            - name: AWS_REGION
              value: "eu-west-1"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "skilavottord"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "skilavottord"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws-init-container
                  key: DB_PASS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
      containers:
        - name: skilavottord-ws
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/skilavottord-ws:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DB_HOST
              value: "postgres-applications.internal"
            - name: DB_NAME
              value: "skilavottord"
            - name: DB_REPLICAS_HOST
              value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
            - name: DB_USER
              value: "skilavottord"
            - name: IDENTITY_SERVER_ISSUER_URL
              value: "https://identity-server.dev01.devland.is"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: CONFIGCAT_SDK_KEY
            - name: DB_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: DB_PASS
            - name: FJARSYSLA_REST_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: FJARSYSLA_REST_PASS
            - name: FJARSYSLA_REST_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: FJARSYSLA_REST_URL
            - name: FJARSYSLA_REST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: FJARSYSLA_REST_USER
            - name: SAMGONGUSTOFA_REST_AUTH_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: SAMGONGUSTOFA_REST_AUTH_URL
            - name: SAMGONGUSTOFA_REST_DEREG_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: SAMGONGUSTOFA_REST_DEREG_URL
            - name: SAMGONGUSTOFA_REST_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: SAMGONGUSTOFA_REST_PASS
            - name: SAMGONGUSTOFA_REST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: SAMGONGUSTOFA_REST_USER
            - name: SAMGONGUSTOFA_SOAP_PASS
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: SAMGONGUSTOFA_SOAP_PASS
            - name: SAMGONGUSTOFA_SOAP_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: SAMGONGUSTOFA_SOAP_URL
            - name: SAMGONGUSTOFA_SOAP_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-skilavottord-ws
                  key: SAMGONGUSTOFA_SOAP_USER
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
---
# Source: islandis/charts/user-notification-worker/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-user-notification-worker
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-worker-0.0.1
    app.kubernetes.io/name: user-notification-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: user-notification-worker
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: user-notification-worker
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: user-notification-worker
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: user-notification-worker
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/user-notification-worker.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: user-notification-worker
      securityContext:
        fsGroup: 65534
      containers:
        - name: user-notification-worker
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-user-notification:latest_master"
          imagePullPolicy: IfNotPresent
          command: ["node"]
          args: ["--no-experimental-fetch","main.js","--job=worker"]
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: CONTENTFUL_HOST
              value: "preview.contentful.com"
            - name: DEAD_LETTER_QUEUE_NAME
              value: "user-notification-failure"
            - name: IDENTITY_SERVER_PATH
              value: "https://identity-server.dev01.devland.is"
            - name: MAIN_QUEUE_NAME
              value: "user-notification"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=208"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: SERVICE_USER_PROFILE_BASEPATH
              value: "http://web-service-portal-api.service-portal.svc.cluster.local"
            - name: USER_NOTIFICATION_APP_PROTOCOL
              value: "is.island.app.dev"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-user-notification-worker
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-user-notification-worker
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: FIREBASE_CREDENTIALS
              valueFrom:
                secretKeyRef:
                  name: release-name-user-notification-worker
                  key: FIREBASE_CREDENTIALS
            - name: USER_NOTIFICATION_CLIENT_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-user-notification-worker
                  key: USER_NOTIFICATION_CLIENT_ID
            - name: USER_NOTIFICATION_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-user-notification-worker
                  key: USER_NOTIFICATION_CLIENT_SECRET
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
---
# Source: islandis/charts/user-notification/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-user-notification
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-0.0.1
    app.kubernetes.io/name: user-notification
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: user-notification
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 1
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: user-notification
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: user-notification
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: user-notification
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/user-notification.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: user-notification
      securityContext:
        fsGroup: 65534
      containers:
        - name: user-notification
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-user-notification:latest_master"
          imagePullPolicy: IfNotPresent
          command: ["node"]
          args: ["--no-experimental-fetch","main.js"]
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: DEAD_LETTER_QUEUE_NAME
              value: "user-notification-failure"
            - name: MAIN_QUEUE_NAME
              value: "user-notification"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=336"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-user-notification
                  key: CONFIGCAT_SDK_KEY
            - name: CONTENTFUL_ACCESS_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-user-notification
                  key: CONTENTFUL_ACCESS_TOKEN
            - name: FIREBASE_CREDENTIALS
              valueFrom:
                secretKeyRef:
                  name: release-name-user-notification
                  key: FIREBASE_CREDENTIALS
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 200m
              memory: 384Mi
            requests:
              cpu: 15m
              memory: 256Mi
---
# Source: islandis/charts/web/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-web
  namespace: islandis
  labels:
    helm.sh/chart: web-0.0.1
    app.kubernetes.io/name: web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: web
    tags.datadoghq.com/version: latest_master
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: web
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: web
        app.kubernetes.io/instance: release-name
        tags.datadoghq.com/env: dev
        tags.datadoghq.com/service: web
        tags.datadoghq.com/version: latest_master
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/path: /metrics
        prometheus.io/port: "3334" # The metrics port is +1 on the HTTP service port
        ad.datadoghq.com/web.logs: >-
          [{
            "log_processing_rules": [{
              "type": "mask_sequences",
              "name": "mask_national_ids",
              "replace_placeholder": "--MASKED--",
              "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
            }]
          }]
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: web
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/web:latest_master"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /liveness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          readinessProbe:
            httpGet:
              path: /readiness
              port: 3333
            initialDelaySeconds: 3
            timeoutSeconds:  3
          env:
            - name: AUDIT_GROUP_NAME
              value: "/island-is/audit-log"
            - name: AWS_REGION
              value: "eu-west-1"
            - name: NO_UPDATE_NOTIFIER
              value: "true"
            - name: PORT
              value: "3333"
            - name: name
              value: "dev"
            - name: API_URL
              value: "http://web-api"
            - name: DISABLE_API_CATALOGUE
              value: "false"
            - name: DISABLE_ORGANIZATION_CHATBOT
              value: "false"
            - name: DISABLE_SYSLUMENN_PAGE
              value: "false"
            - name: ENVIRONMENT
              value: "dev"
            - name: NODE_OPTIONS
              value: "--max-old-space-size=464"
            - name: SERVERSIDE_FEATURES_ON
              value: ""
            - name: TRACKING_DOMAIN
              value: "beta.dev01.devland.is"
            - name: CONFIGCAT_SDK_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-web
                  key: CONFIGCAT_SDK_KEY
            - name: DD_RUM_APPLICATION_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-web
                  key: DD_RUM_APPLICATION_ID
            - name: DD_RUM_CLIENT_TOKEN
              valueFrom:
                secretKeyRef:
                  name: release-name-web
                  key: DD_RUM_CLIENT_TOKEN
            - name: APP_VERSION
              value: latest_master
            - name: DD_ENV
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/env']
            - name: DD_SERVICE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/service']
            - name: DD_VERSION
              valueFrom:
                fieldRef:
                  fieldPath: metadata.labels['tags.datadoghq.com/version']
            - name: DD_LOGS_INJECTION
              value: "true"
            - name: DD_AGENT_HOST
              valueFrom:
                fieldRef:
                  fieldPath: status.hostIP
            - name: DD_RUNTIME_METRICS_ENABLED
              value: "true"
            - name: DD_DOGSTATSD_NON_LOCAL_TRAFFIC
              value: "true"
            - name: DD_APM_REPLACE_TAGS
              value: '[
                {
                  "name": "*",
                  "pattern": "\b(?:[89]\d{3}|(?:[012]\d|3[01])(?:0\d|1[012]))\d\d-?\d{4}\b",
                  "repl": "--MASKED--"
                }]'
          resources:
            limits:
              cpu: 400m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 256Mi
---
# Source: islandis/charts/air-discount-scheme-api/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-air-discount-scheme-api
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-api-0.0.1
    app.kubernetes.io/name: air-discount-scheme-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-air-discount-scheme-api
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-air-discount-scheme-api-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/air-discount-scheme-backend/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-air-discount-scheme-backend
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-backend-0.0.1
    app.kubernetes.io/name: air-discount-scheme-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-air-discount-scheme-backend
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-air-discount-scheme-backend-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/air-discount-scheme-web/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-air-discount-scheme-web
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-web-0.0.1
    app.kubernetes.io/name: air-discount-scheme-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-air-discount-scheme-web
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-air-discount-scheme-web-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/api/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-api
  namespace: islandis
  labels:
    helm.sh/chart: api-0.0.1
    app.kubernetes.io/name: api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-api
  minReplicas: 2
  maxReplicas: 50
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-api-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/application-system-api/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-application-system-api
  namespace: application-system
  labels:
    helm.sh/chart: application-system-api-0.0.1
    app.kubernetes.io/name: application-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-application-system-api
  minReplicas: 2
  maxReplicas: 60
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-application-system-api-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/application-system-form/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-application-system-form
  namespace: application-system
  labels:
    helm.sh/chart: application-system-form-0.0.1
    app.kubernetes.io/name: application-system-form
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-application-system-form
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-application-system-form-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/consultation-portal/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-consultation-portal
  namespace: consultation-portal
  labels:
    helm.sh/chart: consultation-portal-0.0.1
    app.kubernetes.io/name: consultation-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-consultation-portal
  minReplicas: 2
  maxReplicas: 30
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-consultation-portal-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/contentful-apps/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-contentful-apps
  namespace: contentful-apps
  labels:
    helm.sh/chart: contentful-apps-0.0.1
    app.kubernetes.io/name: contentful-apps
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-contentful-apps
  minReplicas: 1
  maxReplicas: 10
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-contentful-apps-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/contentful-entry-tagger-service/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-contentful-entry-tagger-service
  namespace: contentful-entry-tagger
  labels:
    helm.sh/chart: contentful-entry-tagger-service-0.0.1
    app.kubernetes.io/name: contentful-entry-tagger-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-contentful-entry-tagger-service
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-contentful-entry-tagger-service-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/contentful-translation-extension/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-contentful-translation-extension
  namespace: contentful-translation-extension
  labels:
    helm.sh/chart: contentful-translation-extension-0.0.1
    app.kubernetes.io/name: contentful-translation-extension
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-contentful-translation-extension
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-contentful-translation-extension-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/download-service/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-download-service
  namespace: download-service
  labels:
    helm.sh/chart: download-service-0.0.1
    app.kubernetes.io/name: download-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-download-service
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-download-service-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/endorsement-system-api/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-endorsement-system-api
  namespace: endorsement-system
  labels:
    helm.sh/chart: endorsement-system-api-0.0.1
    app.kubernetes.io/name: endorsement-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-endorsement-system-api
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
---
# Source: islandis/charts/github-actions-cache/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-github-actions-cache
  namespace: github-actions-cache
  labels:
    helm.sh/chart: github-actions-cache-0.0.1
    app.kubernetes.io/name: github-actions-cache
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-github-actions-cache
  minReplicas: 3
  maxReplicas: 8
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-github-actions-cache-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-icelandic-names-registry-backend
  namespace: icelandic-names-registry
  labels:
    helm.sh/chart: icelandic-names-registry-backend-0.0.1
    app.kubernetes.io/name: icelandic-names-registry-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-icelandic-names-registry-backend
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
---
# Source: islandis/charts/island-ui-storybook/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-island-ui-storybook
  namespace: storybook
  labels:
    helm.sh/chart: island-ui-storybook-0.0.1
    app.kubernetes.io/name: island-ui-storybook
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-island-ui-storybook
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-island-ui-storybook-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/license-api/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-license-api
  namespace: license-api
  labels:
    helm.sh/chart: license-api-0.0.1
    app.kubernetes.io/name: license-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-license-api
  minReplicas: 2
  maxReplicas: 10
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-license-api-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/portals-admin/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-portals-admin
  namespace: portals-admin
  labels:
    helm.sh/chart: portals-admin-0.0.1
    app.kubernetes.io/name: portals-admin
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-portals-admin
  minReplicas: 2
  maxReplicas: 30
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-portals-admin-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/regulations-admin-backend/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-regulations-admin-backend
  namespace: regulations-admin
  labels:
    helm.sh/chart: regulations-admin-backend-0.0.1
    app.kubernetes.io/name: regulations-admin-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-regulations-admin-backend
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
---
# Source: islandis/charts/search-indexer-service/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-search-indexer-service
  namespace: search-indexer
  labels:
    helm.sh/chart: search-indexer-service-0.0.1
    app.kubernetes.io/name: search-indexer-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-search-indexer-service
  minReplicas: 1
  maxReplicas: 1
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-search-indexer-service-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/service-portal-api/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-service-portal-api
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-api-0.0.1
    app.kubernetes.io/name: service-portal-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-service-portal-api
  minReplicas: 2
  maxReplicas: 30
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-service-portal-api-internal-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/service-portal/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-service-portal
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-0.0.1
    app.kubernetes.io/name: service-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-service-portal
  minReplicas: 2
  maxReplicas: 30
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-service-portal-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/services-documents/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-services-documents
  namespace: services-documents
  labels:
    helm.sh/chart: services-documents-0.0.1
    app.kubernetes.io/name: services-documents
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-services-documents
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
---
# Source: islandis/charts/services-sessions-worker/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-services-sessions-worker
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-worker-0.0.1
    app.kubernetes.io/name: services-sessions-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-services-sessions-worker
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
---
# Source: islandis/charts/services-sessions/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-services-sessions
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-0.0.1
    app.kubernetes.io/name: services-sessions
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-services-sessions
  minReplicas: 1
  maxReplicas: 10
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-services-sessions-internal-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/skilavottord-web/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-skilavottord-web
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-web-0.0.1
    app.kubernetes.io/name: skilavottord-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-skilavottord-web
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-skilavottord-web-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/skilavottord-ws/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-skilavottord-ws
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-ws-0.0.1
    app.kubernetes.io/name: skilavottord-ws
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-skilavottord-ws
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-skilavottord-ws-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/user-notification-worker/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-user-notification-worker
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-worker-0.0.1
    app.kubernetes.io/name: user-notification-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-user-notification-worker
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
---
# Source: islandis/charts/user-notification/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-user-notification
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-0.0.1
    app.kubernetes.io/name: user-notification
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-user-notification
  minReplicas: 1
  maxReplicas: 3
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-user-notification-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/web/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: release-name-web
  namespace: islandis
  labels:
    helm.sh/chart: web-0.0.1
    app.kubernetes.io/name: web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: release-name-web
  minReplicas: 2
  maxReplicas: 50
  behavior:
    scaleDown:
      policies:
        - type: Percent
          value: 33
          periodSeconds: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: External
    external:
      metric:
        name: nginx_ingress_controller_requests_rate
        selector:
          matchLabels:
             ingress: "release-name-web-primary-alb"
      target:
        type: AverageValue
        averageValue: 5
---
# Source: islandis/charts/application-system-api-worker/templates/cronjob.yaml
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: "application-system-api-worker"
  namespace: application-system
  labels:
    helm.sh/chart: application-system-api-worker-0.0.1
    app.kubernetes.io/name: application-system-api-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    chart: "application-system-api-worker-0.0.1"
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: application-system-api-worker
    tags.datadoghq.com/version: latest_master
spec:
  concurrencyPolicy: Allow
  failedJobsHistoryLimit: 1
  successfulJobsHistoryLimit: 3
  schedule: "*/30 * * * *"
  jobTemplate:
    spec:
      template:
        metadata:
          annotations:
            linkerd.io/inject: disabled
            ad.datadoghq.com/application-system-api-worker.logs: >-
              [{
                "log_processing_rules": [{
                  "type": "mask_sequences",
                  "name": "mask_national_ids",
                  "replace_placeholder": "--MASKED--",
                  "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
                }]
              }]

          labels:
            helm.sh/chart: application-system-api-worker-0.0.1
            app.kubernetes.io/name: application-system-api-worker
            app.kubernetes.io/instance: release-name
            app.kubernetes.io/version: "1.16.0"
            app.kubernetes.io/managed-by: Helm
            chart: "application-system-api-worker-0.0.1"
            tags.datadoghq.com/env: dev
            tags.datadoghq.com/service: application-system-api-worker
            tags.datadoghq.com/version: latest_master
        spec:
          serviceAccountName: application-system-api-worker
          securityContext:
            fsGroup: 65534
          containers:
          - image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/application-system-api:latest_master"
            name: application-system-api-worker
            securityContext:
              allowPrivilegeEscalation: false
              privileged: false
            env:
              - name: AUDIT_GROUP_NAME
                value: "/island-is/audit-log"
              - name: AWS_REGION
                value: "eu-west-1"
              - name: NO_UPDATE_NOTIFIER
                value: "true"
              - name: PORT
                value: "3333"
              - name: name
                value: "dev"
              - name: APPLICATION_ATTACHMENT_BUCKET
                value: "island-is-dev-storage-application-system"
              - name: CLIENT_LOCATION_ORIGIN
                value: "https://beta.dev01.devland.is/umsoknir"
              - name: DB_HOST
                value: "postgres-applications.internal"
              - name: DB_NAME
                value: "application_system_api"
              - name: DB_REPLICAS_HOST
                value: "dev-vidspyrna-aurora.cluster-ro-c6cxecmrvlpq.eu-west-1.rds.amazonaws.com"
              - name: DB_USER
                value: "application_system_api"
              - name: EHIC_XROAD_PROVIDER_ID
                value: "IS-DEV/GOV/10007/SJUKRA-Protected/ehic"
              - name: FILE_SERVICE_PRESIGN_BUCKET
                value: "island-is-dev-fs-presign-bucket"
              - name: FILE_STORAGE_UPLOAD_BUCKET
                value: "island-is-dev-upload-api"
              - name: IDENTITY_SERVER_CLIENT_ID
                value: "@island.is/clients/application-system"
              - name: IDENTITY_SERVER_ISSUER_URL
                value: "https://identity-server.dev01.devland.is"
              - name: NODE_OPTIONS
                value: "--max-old-space-size=208"
              - name: REDIS_URL_NODE_01
                value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
              - name: SERVERSIDE_FEATURES_ON
                value: ""
              - name: XROAD_BASE_PATH
                value: "http://securityserver.dev01.devland.is"
              - name: XROAD_BASE_PATH_WITH_ENV
                value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
              - name: XROAD_CHARGE_FJS_V2_PATH
                value: "IS-DEV/GOV/10021/FJS-Public/chargeFJS_v2"
              - name: XROAD_CLIENT_ID
                value: "IS-DEV/GOV/10000/island-is-client"
              - name: XROAD_PAYMENT_ADDITION_CALLBACK_URL
                value: "/"
              - name: XROAD_PAYMENT_BASE_CALLBACK_URL
                value: "XROAD:/IS-DEV/GOV/10000/island-is/application-callback-v2/application-payment/"
              - name: XROAD_PAYMENT_PROVIDER_ID
                value: "IS-DEV/GOV/10021/FJS-Public"
              - name: XROAD_TLS_BASE_PATH
                value: "https://securityserver.dev01.devland.is"
              - name: XROAD_TLS_BASE_PATH_WITH_ENV
                value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
              - name: ARK_BASE_URL
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: ARK_BASE_URL
              - name: CONFIGCAT_SDK_KEY
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: CONFIGCAT_SDK_KEY
              - name: DB_PASS
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: DB_PASS
              - name: DOKOBIT_ACCESS_TOKEN
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: DOKOBIT_ACCESS_TOKEN
              - name: DOKOBIT_URL
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: DOKOBIT_URL
              - name: DOMSYSLA_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: DOMSYSLA_PASSWORD
              - name: DOMSYSLA_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: DOMSYSLA_USERNAME
              - name: DRIVING_LICENSE_BOOK_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: DRIVING_LICENSE_BOOK_PASSWORD
              - name: DRIVING_LICENSE_BOOK_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: DRIVING_LICENSE_BOOK_USERNAME
              - name: DRIVING_LICENSE_BOOK_XROAD_PATH
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: DRIVING_LICENSE_BOOK_XROAD_PATH
              - name: IDENTITY_SERVER_CLIENT_SECRET
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: IDENTITY_SERVER_CLIENT_SECRET
              - name: SYSLUMENN_HOST
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: SYSLUMENN_HOST
              - name: SYSLUMENN_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: SYSLUMENN_PASSWORD
              - name: SYSLUMENN_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: SYSLUMENN_USERNAME
              - name: XROAD_PAYMENT_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: XROAD_PAYMENT_PASSWORD
              - name: XROAD_PAYMENT_USER
                valueFrom:
                  secretKeyRef:
                    name: release-name-application-system-api-worker
                    key: XROAD_PAYMENT_USER
              - name: APP_VERSION
                value: latest_master
              - name: DD_ENV
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/env']
              - name: DD_SERVICE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/service']
              - name: DD_VERSION
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/version']
              - name: DD_LOGS_INJECTION
                value: "true"
              - name: DD_AGENT_HOST
                valueFrom:
                  fieldRef:
                    fieldPath: status.hostIP
              - name: DD_APM_REPLACE_TAGS
                value: '[
                  {
                    "name": "*",
                    "pattern": "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b",
                    "repl": "--MASKED--"
                  }]'
            command:
            - node
            args:
            - main.js
            - --job
            - worker
            resources:
              limits:
                cpu: 200m
                memory: 256Mi
              requests:
                cpu: 100m
                memory: 128Mi
          restartPolicy: Never
---
# Source: islandis/charts/external-contracts-tests/templates/cronjob.yaml
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: "external-contracts-tests"
  namespace: external-contracts-tests
  labels:
    helm.sh/chart: external-contracts-tests-0.0.1
    app.kubernetes.io/name: external-contracts-tests
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    chart: "external-contracts-tests-0.0.1"
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: external-contracts-tests
    tags.datadoghq.com/version: latest_master
spec:
  concurrencyPolicy: Allow
  failedJobsHistoryLimit: 1
  successfulJobsHistoryLimit: 3
  schedule: "0 11 * * *"
  jobTemplate:
    spec:
      template:
        metadata:
          annotations:
            linkerd.io/inject: disabled
            ad.datadoghq.com/external-contracts-tests.logs: >-
              [{
                "log_processing_rules": [{
                  "type": "mask_sequences",
                  "name": "mask_national_ids",
                  "replace_placeholder": "--MASKED--",
                  "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
                }]
              }]

          labels:
            helm.sh/chart: external-contracts-tests-0.0.1
            app.kubernetes.io/name: external-contracts-tests
            app.kubernetes.io/instance: release-name
            app.kubernetes.io/version: "1.16.0"
            app.kubernetes.io/managed-by: Helm
            chart: "external-contracts-tests-0.0.1"
            tags.datadoghq.com/env: dev
            tags.datadoghq.com/service: external-contracts-tests
            tags.datadoghq.com/version: latest_master
        spec:
          serviceAccountName: release-name-external-contracts-tests
          securityContext:
            {}
          containers:
          - image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/external-contracts-tests:latest_master"
            name: external-contracts-tests
            securityContext:
              allowPrivilegeEscalation: false
              privileged: false
            env:
              - name: AUDIT_GROUP_NAME
                value: "/island-is/audit-log"
              - name: AWS_REGION
                value: "eu-west-1"
              - name: NO_UPDATE_NOTIFIER
                value: "true"
              - name: PORT
                value: "3333"
              - name: name
                value: "dev"
              - name: NODE_OPTIONS
                value: "--max-old-space-size=976"
              - name: SERVERSIDE_FEATURES_ON
                value: ""
              - name: XROAD_BASE_PATH
                value: "http://securityserver.dev01.devland.is"
              - name: XROAD_BASE_PATH_WITH_ENV
                value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
              - name: XROAD_NATIONAL_REGISTRY_REDIS_NODES
                value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
              - name: XROAD_NATIONAL_REGISTRY_SERVICE_PATH
                value: "IS-DEV/GOV/10001/SKRA-Protected/Einstaklingar-v1"
              - name: XROAD_TJODSKRA_API_PATH
                value: "/SKRA-Protected/Einstaklingar-v1"
              - name: XROAD_TJODSKRA_MEMBER_CODE
                value: "10001"
              - name: XROAD_TLS_BASE_PATH
                value: "https://securityserver.dev01.devland.is"
              - name: XROAD_TLS_BASE_PATH_WITH_ENV
                value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
              - name: CONFIGCAT_SDK_KEY
                valueFrom:
                  secretKeyRef:
                    name: release-name-external-contracts-tests
                    key: CONFIGCAT_SDK_KEY
              - name: SOFFIA_HOST_URL
                valueFrom:
                  secretKeyRef:
                    name: release-name-external-contracts-tests
                    key: SOFFIA_HOST_URL
              - name: SOFFIA_PASS
                valueFrom:
                  secretKeyRef:
                    name: release-name-external-contracts-tests
                    key: SOFFIA_PASS
              - name: SOFFIA_SOAP_URL
                valueFrom:
                  secretKeyRef:
                    name: release-name-external-contracts-tests
                    key: SOFFIA_SOAP_URL
              - name: SOFFIA_USER
                valueFrom:
                  secretKeyRef:
                    name: release-name-external-contracts-tests
                    key: SOFFIA_USER
              - name: APP_VERSION
                value: latest_master
              - name: DD_ENV
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/env']
              - name: DD_SERVICE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/service']
              - name: DD_VERSION
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/version']
              - name: DD_LOGS_INJECTION
                value: "true"
              - name: DD_AGENT_HOST
                valueFrom:
                  fieldRef:
                    fieldPath: status.hostIP
              - name: DD_APM_REPLACE_TAGS
                value: '[
                  {
                    "name": "*",
                    "pattern": "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b",
                    "repl": "--MASKED--"
                  }]'
            resources:
              limits:
                cpu: "1"
                memory: 1024Mi
              requests:
                cpu: 500m
                memory: 512Mi
          restartPolicy: Never
---
# Source: islandis/charts/services-sessions-geoip-worker/templates/cronjob.yaml
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: "services-sessions-geoip-worker"
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-geoip-worker-0.0.1
    app.kubernetes.io/name: services-sessions-geoip-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    chart: "services-sessions-geoip-worker-0.0.1"
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: services-sessions-geoip-worker
    tags.datadoghq.com/version: latest_master
spec:
  concurrencyPolicy: Allow
  failedJobsHistoryLimit: 1
  successfulJobsHistoryLimit: 3
  schedule: "*/30 * * * *"
  jobTemplate:
    spec:
      template:
        metadata:
          annotations:
            linkerd.io/inject: disabled
            ad.datadoghq.com/services-sessions-geoip-worker.logs: >-
              [{
                "log_processing_rules": [{
                  "type": "mask_sequences",
                  "name": "mask_national_ids",
                  "replace_placeholder": "--MASKED--",
                  "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
                }]
              }]

          labels:
            helm.sh/chart: services-sessions-geoip-worker-0.0.1
            app.kubernetes.io/name: services-sessions-geoip-worker
            app.kubernetes.io/instance: release-name
            app.kubernetes.io/version: "1.16.0"
            app.kubernetes.io/managed-by: Helm
            chart: "services-sessions-geoip-worker-0.0.1"
            tags.datadoghq.com/env: dev
            tags.datadoghq.com/service: services-sessions-geoip-worker
            tags.datadoghq.com/version: latest_master
        spec:
          serviceAccountName: sessions-geoip
          securityContext:
            fsGroup: 65534
          containers:
          - image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-sessions:latest_master"
            name: services-sessions-geoip-worker
            securityContext:
              allowPrivilegeEscalation: false
              privileged: false
            env:
              - name: AUDIT_GROUP_NAME
                value: "/island-is/audit-log"
              - name: AWS_REGION
                value: "eu-west-1"
              - name: NO_UPDATE_NOTIFIER
                value: "true"
              - name: PORT
                value: "3333"
              - name: name
                value: "dev"
              - name: NODE_OPTIONS
                value: "--max-old-space-size=208"
              - name: REDIS_URL_NODE_01
                value: "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]"
              - name: SERVERSIDE_FEATURES_ON
                value: ""
              - name: CONFIGCAT_SDK_KEY
                valueFrom:
                  secretKeyRef:
                    name: release-name-services-sessions-geoip-worker
                    key: CONFIGCAT_SDK_KEY
              - name: GEOIP_LICENSE_KEY
                valueFrom:
                  secretKeyRef:
                    name: release-name-services-sessions-geoip-worker
                    key: GEOIP_LICENSE_KEY
              - name: APP_VERSION
                value: latest_master
              - name: DD_ENV
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/env']
              - name: DD_SERVICE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/service']
              - name: DD_VERSION
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/version']
              - name: DD_LOGS_INJECTION
                value: "true"
              - name: DD_AGENT_HOST
                valueFrom:
                  fieldRef:
                    fieldPath: status.hostIP
              - name: DD_APM_REPLACE_TAGS
                value: '[
                  {
                    "name": "*",
                    "pattern": "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b",
                    "repl": "--MASKED--"
                  }]'
            command:
            - node
            args:
            - ./node_modules/geoip-lite/scripts/updatedb.js
            - license_key=$(GEOIP_LICENSE_KEY)
            resources:
              limits:
                cpu: 200m
                memory: 256Mi
              requests:
                cpu: 10m
                memory: 128Mi
          restartPolicy: Never
---
# Source: islandis/charts/xroad-collector/templates/cronjob.yaml
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: "xroad-collector"
  namespace: xroad-collector
  labels:
    helm.sh/chart: xroad-collector-0.0.1
    app.kubernetes.io/name: xroad-collector
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    chart: "xroad-collector-0.0.1"
    tags.datadoghq.com/env: dev
    tags.datadoghq.com/service: xroad-collector
    tags.datadoghq.com/version: latest_master
spec:
  concurrencyPolicy: Allow
  failedJobsHistoryLimit: 1
  successfulJobsHistoryLimit: 3
  schedule: "0 2 * * *"
  jobTemplate:
    spec:
      template:
        metadata:
          annotations:
            linkerd.io/inject: disabled
            ad.datadoghq.com/xroad-collector.logs: >-
              [{
                "log_processing_rules": [{
                  "type": "mask_sequences",
                  "name": "mask_national_ids",
                  "replace_placeholder": "--MASKED--",
                  "pattern" : "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b"
                }]
              }]

          labels:
            helm.sh/chart: xroad-collector-0.0.1
            app.kubernetes.io/name: xroad-collector
            app.kubernetes.io/instance: release-name
            app.kubernetes.io/version: "1.16.0"
            app.kubernetes.io/managed-by: Helm
            chart: "xroad-collector-0.0.1"
            tags.datadoghq.com/env: dev
            tags.datadoghq.com/service: xroad-collector
            tags.datadoghq.com/version: latest_master
        spec:
          serviceAccountName: xroad-collector
          securityContext:
            fsGroup: 65534
          containers:
          - image: "821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-xroad-collector:latest_master"
            name: xroad-collector
            securityContext:
              allowPrivilegeEscalation: false
              privileged: false
            env:
              - name: AUDIT_GROUP_NAME
                value: "/island-is/audit-log"
              - name: AWS_REGION
                value: "eu-west-1"
              - name: NO_UPDATE_NOTIFIER
                value: "true"
              - name: PORT
                value: "3333"
              - name: name
                value: "dev"
              - name: ELASTIC_NODE
                value: "https://vpc-search-njkekqydiegezhr4vqpkfnw5la.eu-west-1.es.amazonaws.com"
              - name: NODE_OPTIONS
                value: "--max-old-space-size=208"
              - name: NODE_TLS_REJECT_UNAUTHORIZED
                value: "0"
              - name: SERVERSIDE_FEATURES_ON
                value: ""
              - name: XROAD_BASE_PATH
                value: "http://securityserver.dev01.devland.is"
              - name: XROAD_BASE_PATH_WITH_ENV
                value: "http://securityserver.dev01.devland.is/r1/IS-DEV"
              - name: XROAD_CLIENT_ID
                value: "IS-DEV/GOV/10000/island-is-client"
              - name: XROAD_TLS_BASE_PATH
                value: "https://securityserver.dev01.devland.is"
              - name: XROAD_TLS_BASE_PATH_WITH_ENV
                value: "https://securityserver.dev01.devland.is/r1/IS-DEV"
              - name: CONFIGCAT_SDK_KEY
                valueFrom:
                  secretKeyRef:
                    name: release-name-xroad-collector
                    key: CONFIGCAT_SDK_KEY
              - name: APP_VERSION
                value: latest_master
              - name: DD_ENV
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/env']
              - name: DD_SERVICE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/service']
              - name: DD_VERSION
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.labels['tags.datadoghq.com/version']
              - name: DD_LOGS_INJECTION
                value: "true"
              - name: DD_AGENT_HOST
                valueFrom:
                  fieldRef:
                    fieldPath: status.hostIP
              - name: DD_APM_REPLACE_TAGS
                value: '[
                  {
                    "name": "*",
                    "pattern": "\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b",
                    "repl": "--MASKED--"
                  }]'
            command:
            - node
            args:
            - --no-experimental-fetch
            - main.js
            resources:
              limits:
                cpu: 200m
                memory: 256Mi
              requests:
                cpu: 100m
                memory: 128Mi
          restartPolicy: Never
---
# Source: islandis/charts/air-discount-scheme-api/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-air-discount-scheme-api-primary-alb"
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-api-0.0.1
    app.kubernetes.io/name: air-discount-scheme-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
spec:
  rules:
    - host: "loftbru.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-air-discount-scheme-api
                port:
                  number: 80
            path: /api/graphql
    - host: "loftbru-cf.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-air-discount-scheme-api
                port:
                  number: 80
            path: /api/graphql
---
# Source: islandis/charts/air-discount-scheme-backend/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-air-discount-scheme-backend-primary-alb"
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-backend-0.0.1
    app.kubernetes.io/name: air-discount-scheme-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/enable-global-auth: "false"
spec:
  rules:
    - host: "loftbru.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-air-discount-scheme-backend
                port:
                  number: 80
            path: /api/swagger
          - pathType: Prefix
            backend:
              service:
                name: release-name-air-discount-scheme-backend
                port:
                  number: 80
            path: /api/public
    - host: "loftbru-cf.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-air-discount-scheme-backend
                port:
                  number: 80
            path: /api/swagger
          - pathType: Prefix
            backend:
              service:
                name: release-name-air-discount-scheme-backend
                port:
                  number: 80
            path: /api/public
---
# Source: islandis/charts/air-discount-scheme-web/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-air-discount-scheme-web-primary-alb"
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-web-0.0.1
    app.kubernetes.io/name: air-discount-scheme-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/configuration-snippet: rewrite /$ https://beta.dev01.devland.is/loftbru;
      rewrite /en$ https://beta.dev01.devland.is/en/lower-airfares-for-residents-in-rural-areas;
    nginx.ingress.kubernetes.io/proxy-buffer-size: 16k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
    nginx.ingress.kubernetes.io/proxy-buffers-number: "4"
    nginx.ingress.kubernetes.io/server-snippet: client_header_buffer_size 16k; large_client_header_buffers
      4 16k;
spec:
  rules:
    - host: "loftbru.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-air-discount-scheme-web
                port:
                  number: 80
            path: /
    - host: "loftbru-cf.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-air-discount-scheme-web
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/api/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-api-primary-alb"
  namespace: islandis
  labels:
    helm.sh/chart: api-0.0.1
    app.kubernetes.io/name: api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
spec:
  rules:
    - host: "beta.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-api
                port:
                  number: 80
            path: /api
    - host: "api-catalogue.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-api
                port:
                  number: 80
            path: /api
---
# Source: islandis/charts/application-system-api/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-application-system-api-primary-alb"
  namespace: application-system
  labels:
    helm.sh/chart: application-system-api-0.0.1
    app.kubernetes.io/name: application-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-internal-alb
    nginx.ingress.kubernetes.io/proxy-buffer-size: 8k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
spec:
  rules:
    - host: "application-payment-callback-xrd.internal.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-application-system-api
                port:
                  number: 80
            path: /application-payment
          - pathType: Prefix
            backend:
              service:
                name: release-name-application-system-api
                port:
                  number: 80
            path: /applications
    - host: "application-callback-xrd.internal.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-application-system-api
                port:
                  number: 80
            path: /application-payment
          - pathType: Prefix
            backend:
              service:
                name: release-name-application-system-api
                port:
                  number: 80
            path: /applications
---
# Source: islandis/charts/application-system-form/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-application-system-form-primary-alb"
  namespace: application-system
  labels:
    helm.sh/chart: application-system-form-0.0.1
    app.kubernetes.io/name: application-system-form
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/proxy-buffer-size: 8k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
spec:
  rules:
    - host: "beta.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-application-system-form
                port:
                  number: 80
            path: /umsoknir
---
# Source: islandis/charts/consultation-portal/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-consultation-portal-primary-alb"
  namespace: consultation-portal
  labels:
    helm.sh/chart: consultation-portal-0.0.1
    app.kubernetes.io/name: consultation-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/proxy-buffer-size: 8k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
spec:
  rules:
    - host: "beta.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-consultation-portal
                port:
                  number: 80
            path: /samradsgatt
---
# Source: islandis/charts/contentful-apps/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-contentful-apps-primary-alb"
  namespace: contentful-apps
  labels:
    helm.sh/chart: contentful-apps-0.0.1
    app.kubernetes.io/name: contentful-apps
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/enable-global-auth: "false"
spec:
  rules:
    - host: "contentful-apps.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-contentful-apps
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/contentful-entry-tagger-service/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-contentful-entry-tagger-service-primary-alb"
  namespace: contentful-entry-tagger
  labels:
    helm.sh/chart: contentful-entry-tagger-service-0.0.1
    app.kubernetes.io/name: contentful-entry-tagger-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/enable-global-auth: "false"
spec:
  rules:
    - host: "contentful-entry-tagger-service.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-contentful-entry-tagger-service
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/contentful-translation-extension/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-contentful-translation-extension-primary-alb"
  namespace: contentful-translation-extension
  labels:
    helm.sh/chart: contentful-translation-extension-0.0.1
    app.kubernetes.io/name: contentful-translation-extension
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/enable-global-auth: "false"
spec:
  rules:
    - host: "contentful-translation-extension.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-contentful-translation-extension
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/download-service/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-download-service-primary-alb"
  namespace: download-service
  labels:
    helm.sh/chart: download-service-0.0.1
    app.kubernetes.io/name: download-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
spec:
  rules:
    - host: "api.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-download-service
                port:
                  number: 80
            path: /download
---
# Source: islandis/charts/github-actions-cache/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-github-actions-cache-primary-alb"
  namespace: github-actions-cache
  labels:
    helm.sh/chart: github-actions-cache-0.0.1
    app.kubernetes.io/name: github-actions-cache
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/enable-global-auth: "false"
spec:
  rules:
    - host: "cache.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-github-actions-cache
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/island-ui-storybook/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-island-ui-storybook-primary-alb"
  namespace: storybook
  labels:
    helm.sh/chart: island-ui-storybook-0.0.1
    app.kubernetes.io/name: island-ui-storybook
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/enable-global-auth: "false"
spec:
  rules:
    - host: "ui.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-island-ui-storybook
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/license-api/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-license-api-primary-alb"
  namespace: license-api
  labels:
    helm.sh/chart: license-api-0.0.1
    app.kubernetes.io/name: license-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-internal-alb
spec:
  rules:
    - host: "license-api-xrd.internal.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-license-api
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/portals-admin/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-portals-admin-primary-alb"
  namespace: portals-admin
  labels:
    helm.sh/chart: portals-admin-0.0.1
    app.kubernetes.io/name: portals-admin
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/proxy-buffer-size: 8k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
spec:
  rules:
    - host: "beta.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-portals-admin
                port:
                  number: 80
            path: /stjornbord
---
# Source: islandis/charts/search-indexer-service/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-search-indexer-service-primary-alb"
  namespace: search-indexer
  labels:
    helm.sh/chart: search-indexer-service-0.0.1
    app.kubernetes.io/name: search-indexer-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/enable-global-auth: "false"
spec:
  rules:
    - host: "search-indexer-service.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-search-indexer-service
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/service-portal-api/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-service-portal-api-internal-alb"
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-api-0.0.1
    app.kubernetes.io/name: service-portal-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-internal-alb
spec:
  rules:
    - host: "service-portal-api.internal.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-service-portal-api
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/service-portal/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-service-portal-primary-alb"
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-0.0.1
    app.kubernetes.io/name: service-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/proxy-buffer-size: 8k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
spec:
  rules:
    - host: "beta.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-service-portal
                port:
                  number: 80
            path: /minarsidur
---
# Source: islandis/charts/services-sessions/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-services-sessions-internal-alb"
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-0.0.1
    app.kubernetes.io/name: services-sessions
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-internal-alb
spec:
  rules:
    - host: "sessions-api.internal.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-services-sessions
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/skilavottord-web/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-skilavottord-web-primary-alb"
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-web-0.0.1
    app.kubernetes.io/name: skilavottord-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/proxy-buffer-size: 8k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
spec:
  rules:
    - host: "beta.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-skilavottord-web
                port:
                  number: 80
            path: /app/skilavottord/
---
# Source: islandis/charts/skilavottord-ws/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-skilavottord-ws-primary-alb"
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-ws-0.0.1
    app.kubernetes.io/name: skilavottord-ws
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
spec:
  rules:
    - host: "beta.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-skilavottord-ws
                port:
                  number: 80
            path: /app/skilavottord/api/graphql
---
# Source: islandis/charts/user-notification/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-user-notification-primary-alb"
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-0.0.1
    app.kubernetes.io/name: user-notification
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-internal-alb
    nginx.ingress.kubernetes.io/proxy-buffer-size: 8k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
spec:
  rules:
    - host: "user-notification-xrd.internal.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-user-notification
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/web/templates/ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: "release-name-web-primary-alb"
  namespace: islandis
  labels:
    helm.sh/chart: web-0.0.1
    app.kubernetes.io/name: web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    kubernetes.io/ingress.class: nginx-external-alb
    nginx.ingress.kubernetes.io/proxy-buffer-size: 8k
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
spec:
  rules:
    - host: "beta.dev01.devland.is"
      http:
        paths:
          - pathType: Prefix
            backend:
              service:
                name: release-name-web
                port:
                  number: 80
            path: /
---
# Source: islandis/charts/air-discount-scheme-api/templates/secrets.yaml
---
---
# Source: islandis/charts/air-discount-scheme-web/templates/secrets.yaml
---
---
# Source: islandis/charts/api/templates/secrets.yaml
---
---
# Source: islandis/charts/application-system-form/templates/secrets.yaml
---
---
# Source: islandis/charts/consultation-portal/templates/secrets.yaml
---
---
# Source: islandis/charts/contentful-apps/templates/secrets.yaml
---
---
# Source: islandis/charts/contentful-entry-tagger-service/templates/secrets.yaml
---
---
# Source: islandis/charts/contentful-translation-extension/templates/secrets.yaml
---
---
# Source: islandis/charts/download-service/templates/secrets.yaml
---
---
# Source: islandis/charts/github-actions-cache/templates/secrets.yaml
---
---
# Source: islandis/charts/island-ui-storybook/templates/secrets.yaml
---
---
# Source: islandis/charts/license-api/templates/secrets.yaml
---
---
# Source: islandis/charts/portals-admin/templates/secrets.yaml
---
---
# Source: islandis/charts/service-portal/templates/secrets.yaml
---
---
# Source: islandis/charts/services-sessions/templates/secrets.yaml
---
---
# Source: islandis/charts/skilavottord-web/templates/secrets.yaml
---
---
# Source: islandis/charts/user-notification-worker/templates/secrets.yaml
---
---
# Source: islandis/charts/user-notification/templates/secrets.yaml
---
---
# Source: islandis/charts/web/templates/secrets.yaml
---
---
# Source: islandis/charts/air-discount-scheme-api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: air-discount-scheme
  name: release-name-air-discount-scheme-api
spec:
  backendType: systemManager
  data:
    - name: ADMINS
      key: "/k8s/air-discount-scheme/api/ADMINS"
    - name: AUTH_JWT_SECRET
      key: "/k8s/air-discount-scheme/api/AUTH_JWT_SECRET"
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: CONTENTFUL_ACCESS_TOKEN
      key: "/k8s/air-discount-scheme/api/CONTENTFUL_ACCESS_TOKEN"
    - name: DEVELOPERS
      key: "/k8s/air-discount-scheme/api/DEVELOPERS"
---
# Source: islandis/charts/air-discount-scheme-backend/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: air-discount-scheme
  name: release-name-air-discount-scheme-backend
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/air-discount-scheme/backend/DB_PASSWORD"
    - name: ERNIR_API_KEY
      key: "/k8s/air-discount-scheme/backend/ERNIR_API_KEY"
    - name: ICELANDAIR_API_KEY
      key: "/k8s/air-discount-scheme/backend/ICELANDAIR_API_KEY"
    - name: IDENTITY_SERVER_CLIENT_SECRET
      key: "/k8s/air-discount-scheme-backend/VEGAGERDIN_IDS_CLIENTS_ADS_SECRET"
    - name: NATIONAL_REGISTRY_PASSWORD
      key: "/k8s/air-discount-scheme/backend/NATIONAL_REGISTRY_PASSWORD"
    - name: NATIONAL_REGISTRY_URL
      key: "/k8s/air-discount-scheme/backend/NATIONAL_REGISTRY_URL"
    - name: NATIONAL_REGISTRY_USERNAME
      key: "/k8s/air-discount-scheme/backend/NATIONAL_REGISTRY_USERNAME"
    - name: NORLANDAIR_API_KEY
      key: "/k8s/air-discount-scheme/backend/NORLANDAIR_API_KEY"
---
# Source: islandis/charts/air-discount-scheme-backend/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: air-discount-scheme
  name: release-name-air-discount-scheme-backend-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/air-discount-scheme/backend/DB_PASSWORD"
---
# Source: islandis/charts/air-discount-scheme-web/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: air-discount-scheme
  name: release-name-air-discount-scheme-web
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DD_RUM_APPLICATION_ID
      key: "/k8s/DD_RUM_APPLICATION_ID"
    - name: DD_RUM_CLIENT_TOKEN
      key: "/k8s/DD_RUM_CLIENT_TOKEN"
    - name: IDENTITY_SERVER_SECRET
      key: "/k8s/air-discount-scheme/web/IDENTITY_SERVER_SECRET"
---
# Source: islandis/charts/api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: islandis
  name: release-name-api
spec:
  backendType: systemManager
  data:
    - name: ADR_LICENSE_FETCH_TIMEOUT
      key: "/k8s/api/ADR_LICENSE_FETCH_TIMEOUT"
    - name: ADR_LICENSE_PASS_TEMPLATE_ID
      key: "/k8s/api/ADR_LICENSE_PASS_TEMPLATE_ID"
    - name: APOLLO_BYPASS_CACHE_SECRET
      key: "/k8s/api/APOLLO_BYPASS_CACHE_SECRET"
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: CONTENTFUL_ACCESS_TOKEN
      key: "/k8s/api/CONTENTFUL_ACCESS_TOKEN"
    - name: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PRIVATE_RSA_KEY
      key: "/k8s/api/DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PRIVATE_RSA_KEY"
    - name: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PUBLIC_IBM_KEY
      key: "/k8s/api/DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PUBLIC_IBM_KEY"
    - name: DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PUBLIC_RSA_KEY
      key: "/k8s/api/DIRECTORATE_OF_IMMIGRATION_WATSON_ASSISTANT_CHAT_PUBLIC_RSA_KEY"
    - name: DISABILITY_LICENSE_FETCH_TIMEOUT
      key: "/k8s/api/DISABILITY_LICENSE_FETCH_TIMEOUT"
    - name: DISABILITY_LICENSE_PASS_TEMPLATE_ID
      key: "/k8s/DISABILITY_LICENSE_PASS_TEMPLATE_ID"
    - name: DOCUMENT_PROVIDER_BASE_PATH
      key: "/k8s/api/DOCUMENT_PROVIDER_BASE_PATH"
    - name: DOCUMENT_PROVIDER_BASE_PATH_TEST
      key: "/k8s/api/DOCUMENT_PROVIDER_BASE_PATH_TEST"
    - name: DOCUMENT_PROVIDER_CLIENTID
      key: "/k8s/documentprovider/DOCUMENT_PROVIDER_CLIENTID"
    - name: DOCUMENT_PROVIDER_CLIENTID_TEST
      key: "/k8s/documentprovider/DOCUMENT_PROVIDER_CLIENTID_TEST"
    - name: DOCUMENT_PROVIDER_CLIENT_SECRET
      key: "/k8s/documentprovider/DOCUMENT_PROVIDER_CLIENT_SECRET"
    - name: DOCUMENT_PROVIDER_CLIENT_SECRET_TEST
      key: "/k8s/documentprovider/DOCUMENT_PROVIDER_CLIENT_SECRET_TEST"
    - name: DOCUMENT_PROVIDER_TOKEN_URL
      key: "/k8s/api/DOCUMENT_PROVIDER_TOKEN_URL"
    - name: DOCUMENT_PROVIDER_TOKEN_URL_TEST
      key: "/k8s/api/DOCUMENT_PROVIDER_TOKEN_URL_TEST"
    - name: DOMSYSLA_PASSWORD
      key: "/k8s/api/DOMSYSLA_PASSWORD"
    - name: DOMSYSLA_USERNAME
      key: "/k8s/api/DOMSYSLA_USERNAME"
    - name: DRIVING_LICENSE_BOOK_PASSWORD
      key: "/k8s/api/DRIVING_LICENSE_BOOK_PASSWORD"
    - name: DRIVING_LICENSE_BOOK_USERNAME
      key: "/k8s/api/DRIVING_LICENSE_BOOK_USERNAME"
    - name: DRIVING_LICENSE_BOOK_XROAD_PATH
      key: "/k8s/api/DRIVING_LICENSE_BOOK_XROAD_PATH"
    - name: DRIVING_LICENSE_FETCH_TIMEOUT
      key: "/k8s/api/DRIVING_LICENSE_FETCH_TIMEOUT"
    - name: DRIVING_LICENSE_PASS_TEMPLATE_ID
      key: "/k8s/api/DRIVING_LICENSE_PASS_TEMPLATE_ID"
    - name: FINANCIAL_STATEMENTS_INAO_CLIENT_ID
      key: "/k8s/api/FINANCIAL_STATEMENTS_INAO_CLIENT_ID"
    - name: FINANCIAL_STATEMENTS_INAO_CLIENT_SECRET
      key: "/k8s/api/FINANCIAL_STATEMENTS_INAO_CLIENT_SECRET"
    - name: FIREARM_LICENSE_FETCH_TIMEOUT
      key: "/k8s/api/FIREARM_LICENSE_FETCH_TIMEOUT"
    - name: FIREARM_LICENSE_PASS_TEMPLATE_ID
      key: "/k8s/api/FIREARM_LICENSE_PASS_TEMPLATE_ID"
    - name: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_AUDIENCE
      key: "/k8s/api/FISKISTOFA_API_ACCESS_TOKEN_SERVICE_AUDIENCE"
    - name: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_CLIENT_ID
      key: "/k8s/api/FISKISTOFA_API_ACCESS_TOKEN_SERVICE_CLIENT_ID"
    - name: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_CLIENT_SECRET
      key: "/k8s/api/FISKISTOFA_API_ACCESS_TOKEN_SERVICE_CLIENT_SECRET"
    - name: FISKISTOFA_API_ACCESS_TOKEN_SERVICE_URL
      key: "/k8s/api/FISKISTOFA_API_ACCESS_TOKEN_SERVICE_URL"
    - name: FISKISTOFA_API_URL
      key: "/k8s/api/FISKISTOFA_API_URL"
    - name: FISKISTOFA_POWERBI_CLIENT_ID
      key: "/k8s/api/FISKISTOFA_POWERBI_CLIENT_ID"
    - name: FISKISTOFA_POWERBI_CLIENT_SECRET
      key: "/k8s/api/FISKISTOFA_POWERBI_CLIENT_SECRET"
    - name: FISKISTOFA_POWERBI_TENANT_ID
      key: "/k8s/api/FISKISTOFA_POWERBI_TENANT_ID"
    - name: FISKISTOFA_ZENTER_CLIENT_PASSWORD
      key: "/k8s/api/FISKISTOFA_ZENTER_CLIENT_PASSWORD"
    - name: FISKISTOFA_ZENTER_EMAIL
      key: "/k8s/api/FISKISTOFA_ZENTER_EMAIL"
    - name: FISKISTOFA_ZENTER_PASSWORD
      key: "/k8s/api/FISKISTOFA_ZENTER_PASSWORD"
    - name: HOUSING_BENEFIT_CALCULATOR_PASSWORD
      key: "/k8s/xroad/client/HOUSING_BENEFIT_CALCULATOR_PASSWORD"
    - name: HOUSING_BENEFIT_CALCULATOR_USERNAME
      key: "/k8s/xroad/client/HOUSING_BENEFIT_CALCULATOR_USERNAME"
    - name: HSN_WEB_FORM_RESPONSE_SECRET
      key: "/k8s/api/HSN_WEB_FORM_RESPONSE_SECRET"
    - name: HSN_WEB_FORM_RESPONSE_URL
      key: "/k8s/api/HSN_WEB_FORM_RESPONSE_URL"
    - name: ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_PASSWORD
      key: "/k8s/xroad/client/ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_PASSWORD"
    - name: ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_USERNAME
      key: "/k8s/xroad/client/ICELANDIC_GOVERNMENT_INSTITUTION_VACANCIES_USERNAME"
    - name: IDENTITY_SERVER_CLIENT_SECRET
      key: "/k8s/api/IDENTITY_SERVER_CLIENT_SECRET"
    - name: ISLYKILL_SERVICE_BASEPATH
      key: "/k8s/api/ISLYKILL_SERVICE_BASEPATH"
    - name: ISLYKILL_SERVICE_PASSPHRASE
      key: "/k8s/api/ISLYKILL_SERVICE_PASSPHRASE"
    - name: MACHINE_LICENSE_PASS_TEMPLATE_ID
      key: "/k8s/api/MACHINE_LICENSE_PASS_TEMPLATE_ID"
    - name: NATIONAL_REGISTRY_B2C_CLIENT_SECRET
      key: "/k8s/api/NATIONAL_REGISTRY_B2C_CLIENT_SECRET"
    - name: PKPASS_API_KEY
      key: "/k8s/api/PKPASS_API_KEY"
    - name: PKPASS_API_URL
      key: "/k8s/api/PKPASS_API_URL"
    - name: PKPASS_AUTH_RETRIES
      key: "/k8s/api/PKPASS_AUTH_RETRIES"
    - name: PKPASS_CACHE_KEY
      key: "/k8s/api/PKPASS_CACHE_KEY"
    - name: PKPASS_CACHE_TOKEN_EXPIRY_DELTA
      key: "/k8s/api/PKPASS_CACHE_TOKEN_EXPIRY_DELTA"
    - name: PKPASS_SECRET_KEY
      key: "/k8s/api/PKPASS_SECRET_KEY"
    - name: POSTHOLF_BASE_PATH
      key: "/k8s/documents/POSTHOLF_BASE_PATH"
    - name: POSTHOLF_CLIENTID
      key: "/k8s/documents/POSTHOLF_CLIENTID"
    - name: POSTHOLF_CLIENT_SECRET
      key: "/k8s/documents/POSTHOLF_CLIENT_SECRET"
    - name: POSTHOLF_TOKEN_URL
      key: "/k8s/documents/POSTHOLF_TOKEN_URL"
    - name: REGULATIONS_API_URL
      key: "/k8s/api/REGULATIONS_API_URL"
    - name: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_DRAFT"
    - name: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED"
    - name: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_PUBLISH"
    - name: RLS_PKPASS_API_KEY
      key: "/k8s/api/RLS_PKPASS_API_KEY"
    - name: SMART_SOLUTIONS_API_URL
      key: "/k8s/api/SMART_SOLUTIONS_API_URL"
    - name: SOFFIA_HOST_URL
      key: "/k8s/api/SOFFIA_HOST_URL"
    - name: SOFFIA_PASS
      key: "/k8s/service-portal/SOFFIA_PASS"
    - name: SOFFIA_USER
      key: "/k8s/service-portal/SOFFIA_USER"
    - name: SYSLUMENN_HOST
      key: "/k8s/api/SYSLUMENN_HOST"
    - name: SYSLUMENN_PASSWORD
      key: "/k8s/api/SYSLUMENN_PASSWORD"
    - name: SYSLUMENN_USERNAME
      key: "/k8s/api/SYSLUMENN_USERNAME"
    - name: TR_PKPASS_API_KEY
      key: "/k8s/api/TR_PKPASS_API_KEY"
    - name: VE_PKPASS_API_KEY
      key: "/k8s/api/VE_PKPASS_API_KEY"
    - name: XROAD_DRIVING_LICENSE_SECRET
      key: "/k8s/api/DRIVING_LICENSE_SECRET"
    - name: XROAD_HEALTH_INSURANCE_PASSWORD
      key: "/k8s/health-insurance/XROAD-PASSWORD"
    - name: XROAD_HEALTH_INSURANCE_USERNAME
      key: "/k8s/health-insurance/XROAD-USER"
    - name: XROAD_HEALTH_INSURANCE_V2_XROAD_PASSWORD
      key: "/k8s/api/HEALTH_INSURANCE_V2_XROAD_PASSWORD"
    - name: XROAD_HEALTH_INSURANCE_V2_XROAD_USERNAME
      key: "/k8s/api/HEALTH_INSURANCE_V2_XROAD_USERNAME"
    - name: XROAD_PAYMENT_PASSWORD
      key: "/k8s/application-system-api/PAYMENT_PASSWORD"
    - name: XROAD_PAYMENT_USER
      key: "/k8s/application-system-api/PAYMENT_USER"
    - name: XROAD_PROPERTIES_CLIENT_SECRET
      key: "/k8s/xroad/client/NATIONAL-REGISTRY/IDENTITYSERVER_SECRET"
    - name: XROAD_VMST_API_KEY
      key: "/k8s/vmst-client/VMST_API_KEY"
    - name: ZENDESK_CONTACT_FORM_EMAIL
      key: "/k8s/api/ZENDESK_CONTACT_FORM_EMAIL"
    - name: ZENDESK_CONTACT_FORM_TOKEN
      key: "/k8s/api/ZENDESK_CONTACT_FORM_TOKEN"
---
# Source: islandis/charts/application-system-api-worker/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: application-system
  name: release-name-application-system-api-worker
spec:
  backendType: systemManager
  data:
    - name: ARK_BASE_URL
      key: "/k8s/application-system-api/ARK_BASE_URL"
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/application-system/api/DB_PASSWORD"
    - name: DOKOBIT_ACCESS_TOKEN
      key: "/k8s/application-system/api/DOKOBIT_ACCESS_TOKEN"
    - name: DOKOBIT_URL
      key: "/k8s/application-system-api/DOKOBIT_URL"
    - name: DOMSYSLA_PASSWORD
      key: "/k8s/application-system-api/DOMSYSLA_PASSWORD"
    - name: DOMSYSLA_USERNAME
      key: "/k8s/application-system-api/DOMSYSLA_USERNAME"
    - name: DRIVING_LICENSE_BOOK_PASSWORD
      key: "/k8s/application-system-api/DRIVING_LICENSE_BOOK_PASSWORD"
    - name: DRIVING_LICENSE_BOOK_USERNAME
      key: "/k8s/application-system-api/DRIVING_LICENSE_BOOK_USERNAME"
    - name: DRIVING_LICENSE_BOOK_XROAD_PATH
      key: "/k8s/application-system-api/DRIVING_LICENSE_BOOK_XROAD_PATH"
    - name: IDENTITY_SERVER_CLIENT_SECRET
      key: "/k8s/application-system/api/IDENTITY_SERVER_CLIENT_SECRET"
    - name: SYSLUMENN_HOST
      key: "/k8s/application-system-api/SYSLUMENN_HOST"
    - name: SYSLUMENN_PASSWORD
      key: "/k8s/application-system/api/SYSLUMENN_PASSWORD"
    - name: SYSLUMENN_USERNAME
      key: "/k8s/application-system/api/SYSLUMENN_USERNAME"
    - name: XROAD_PAYMENT_PASSWORD
      key: "/k8s/application-system-api/PAYMENT_PASSWORD"
    - name: XROAD_PAYMENT_USER
      key: "/k8s/application-system-api/PAYMENT_USER"
---
# Source: islandis/charts/application-system-api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: application-system
  name: release-name-application-system-api
spec:
  backendType: systemManager
  data:
    - name: ARK_BASE_URL
      key: "/k8s/application-system-api/ARK_BASE_URL"
    - name: AUTH_JWT_SECRET
      key: "/k8s/application-system/api/AUTH_JWT_SECRET"
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: CONTENTFUL_ACCESS_TOKEN
      key: "/k8s/api/CONTENTFUL_ACCESS_TOKEN"
    - name: DATA_PROTECTION_COMPLAINT_API_PASSWORD
      key: "/k8s/xroad/client/DATA_PROTECTION_COMPLAINT_API_PASSWORD"
    - name: DATA_PROTECTION_COMPLAINT_API_USERNAME
      key: "/k8s/xroad/client/DATA_PROTECTION_COMPLAINT_API_USERNAME"
    - name: DB_PASS
      key: "/k8s/application-system/api/DB_PASSWORD"
    - name: DOCUMENT_PROVIDER_ONBOARDING_REVIEWER
      key: "/k8s/application-system/api/DOCUMENT_PROVIDER_ONBOARDING_REVIEWER"
    - name: DOKOBIT_ACCESS_TOKEN
      key: "/k8s/application-system/api/DOKOBIT_ACCESS_TOKEN"
    - name: DOKOBIT_URL
      key: "/k8s/application-system-api/DOKOBIT_URL"
    - name: DOMSYSLA_PASSWORD
      key: "/k8s/application-system-api/DOMSYSLA_PASSWORD"
    - name: DOMSYSLA_USERNAME
      key: "/k8s/application-system-api/DOMSYSLA_USERNAME"
    - name: DRIVING_LICENSE_BOOK_PASSWORD
      key: "/k8s/application-system-api/DRIVING_LICENSE_BOOK_PASSWORD"
    - name: DRIVING_LICENSE_BOOK_USERNAME
      key: "/k8s/application-system-api/DRIVING_LICENSE_BOOK_USERNAME"
    - name: DRIVING_LICENSE_BOOK_XROAD_PATH
      key: "/k8s/application-system-api/DRIVING_LICENSE_BOOK_XROAD_PATH"
    - name: EMAIL_FROM
      key: "/k8s/application-system/api/EMAIL_FROM"
    - name: EMAIL_FROM_NAME
      key: "/k8s/application-system/api/EMAIL_FROM_NAME"
    - name: EMAIL_REPLY_TO
      key: "/k8s/application-system/api/EMAIL_REPLY_TO"
    - name: EMAIL_REPLY_TO_NAME
      key: "/k8s/application-system/api/EMAIL_REPLY_TO_NAME"
    - name: FINANCIAL_STATEMENTS_INAO_CLIENT_ID
      key: "/k8s/api/FINANCIAL_STATEMENTS_INAO_CLIENT_ID"
    - name: FINANCIAL_STATEMENTS_INAO_CLIENT_SECRET
      key: "/k8s/api/FINANCIAL_STATEMENTS_INAO_CLIENT_SECRET"
    - name: IDENTITY_SERVER_CLIENT_SECRET
      key: "/k8s/application-system/api/IDENTITY_SERVER_CLIENT_SECRET"
    - name: ISLYKILL_SERVICE_BASEPATH
      key: "/k8s/api/ISLYKILL_SERVICE_BASEPATH"
    - name: ISLYKILL_SERVICE_PASSPHRASE
      key: "/k8s/api/ISLYKILL_SERVICE_PASSPHRASE"
    - name: NOVA_PASSWORD
      key: "/k8s/application-system/api/NOVA_PASSWORD"
    - name: NOVA_URL
      key: "/k8s/application-system-api/NOVA_URL"
    - name: SYSLUMENN_HOST
      key: "/k8s/application-system-api/SYSLUMENN_HOST"
    - name: SYSLUMENN_PASSWORD
      key: "/k8s/application-system/api/SYSLUMENN_PASSWORD"
    - name: SYSLUMENN_USERNAME
      key: "/k8s/application-system/api/SYSLUMENN_USERNAME"
    - name: VMST_ID
      key: "/k8s/application-system/VMST_ID"
    - name: XROAD_DRIVING_LICENSE_SECRET
      key: "/k8s/api/DRIVING_LICENSE_SECRET"
    - name: XROAD_HEALTH_INSURANCE_PASSWORD
      key: "/k8s/health-insurance/XROAD-PASSWORD"
    - name: XROAD_HEALTH_INSURANCE_USERNAME
      key: "/k8s/health-insurance/XROAD-USER"
    - name: XROAD_HEALTH_INSURANCE_V2_XROAD_PASSWORD
      key: "/k8s/api/HEALTH_INSURANCE_V2_XROAD_PASSWORD"
    - name: XROAD_HEALTH_INSURANCE_V2_XROAD_USERNAME
      key: "/k8s/api/HEALTH_INSURANCE_V2_XROAD_USERNAME"
    - name: XROAD_PAYMENT_PASSWORD
      key: "/k8s/application-system-api/PAYMENT_PASSWORD"
    - name: XROAD_PAYMENT_USER
      key: "/k8s/application-system-api/PAYMENT_USER"
    - name: XROAD_PROPERTIES_CLIENT_SECRET
      key: "/k8s/xroad/client/NATIONAL-REGISTRY/IDENTITYSERVER_SECRET"
    - name: XROAD_VMST_API_KEY
      key: "/k8s/vmst-client/VMST_API_KEY"
---
# Source: islandis/charts/application-system-api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: application-system
  name: release-name-application-system-api-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/application-system/api/DB_PASSWORD"
---
# Source: islandis/charts/application-system-form/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: application-system
  name: release-name-application-system-form
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: SI_PUBLIC_CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: SI_PUBLIC_DD_RUM_APPLICATION_ID
      key: "/k8s/DD_RUM_APPLICATION_ID"
    - name: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
      key: "/k8s/DD_RUM_CLIENT_TOKEN"
---
# Source: islandis/charts/consultation-portal/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: consultation-portal
  name: release-name-consultation-portal
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DD_RUM_APPLICATION_ID
      key: "/k8s/DD_RUM_APPLICATION_ID"
    - name: DD_RUM_CLIENT_TOKEN
      key: "/k8s/DD_RUM_CLIENT_TOKEN"
    - name: IDENTITY_SERVER_SECRET
      key: "/k8s/consultation-portal/IDENTITY_SERVER_SECRET"
---
# Source: islandis/charts/contentful-apps/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: contentful-apps
  name: release-name-contentful-apps
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
---
# Source: islandis/charts/contentful-entry-tagger-service/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: contentful-entry-tagger
  name: release-name-contentful-entry-tagger-service
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: CONTENTFUL_MANAGEMENT_ACCESS_TOKEN
      key: "/k8s/contentful-entry-tagger/CONTENTFUL_MANAGEMENT_ACCESS_TOKEN"
    - name: CONTENTFUL_REQUEST_TOKEN
      key: "/k8s/contentful-entry-tagger/CONTENTFUL_REQUEST_TOKEN"
---
# Source: islandis/charts/contentful-translation-extension/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: contentful-translation-extension
  name: release-name-contentful-translation-extension
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
---
# Source: islandis/charts/download-service/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: download-service
  name: release-name-download-service
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: IDENTITY_SERVER_CLIENT_SECRET
      key: "/k8s/download-service/IDENTITY_SERVER_CLIENT_SECRET"
    - name: POSTHOLF_BASE_PATH
      key: "/k8s/documents/POSTHOLF_BASE_PATH"
    - name: POSTHOLF_CLIENTID
      key: "/k8s/documents/POSTHOLF_CLIENTID"
    - name: POSTHOLF_CLIENT_SECRET
      key: "/k8s/documents/POSTHOLF_CLIENT_SECRET"
    - name: POSTHOLF_TOKEN_URL
      key: "/k8s/documents/POSTHOLF_TOKEN_URL"
    - name: REGULATIONS_API_URL
      key: "/k8s/api/REGULATIONS_API_URL"
    - name: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_DRAFT"
    - name: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED"
    - name: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_PUBLISH"
---
# Source: islandis/charts/endorsement-system-api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: endorsement-system
  name: release-name-endorsement-system-api
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/services-endorsements-api/DB_PASSWORD"
    - name: IDENTITY_SERVER_CLIENT_SECRET
      key: "/k8s/endorsement-system-api/IDS-shared-secret"
    - name: SOFFIA_HOST_URL
      key: "/k8s/endorsement-system-api/SOFFIA_HOST_URL"
    - name: SOFFIA_PASS
      key: "/k8s/service-portal/SOFFIA_PASS"
    - name: SOFFIA_SOAP_URL
      key: "/k8s/endorsement-system-api/SOFFIA_SOAP_URL"
    - name: SOFFIA_USER
      key: "/k8s/service-portal/SOFFIA_USER"
---
# Source: islandis/charts/endorsement-system-api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: endorsement-system
  name: release-name-endorsement-system-api-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/services-endorsements-api/DB_PASSWORD"
---
# Source: islandis/charts/external-contracts-tests/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: external-contracts-tests
  name: release-name-external-contracts-tests
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: SOFFIA_HOST_URL
      key: "/k8s/api/SOFFIA_HOST_URL"
    - name: SOFFIA_PASS
      key: "/k8s/service-portal/SOFFIA_PASS"
    - name: SOFFIA_SOAP_URL
      key: "/k8s/api/SOFFIA_SOAP_URL"
    - name: SOFFIA_USER
      key: "/k8s/service-portal/SOFFIA_USER"
---
# Source: islandis/charts/github-actions-cache/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: github-actions-cache
  name: release-name-github-actions-cache
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: icelandic-names-registry
  name: release-name-icelandic-names-registry-backend
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/icelandic-names-registry-backend/DB_PASSWORD"
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: icelandic-names-registry
  name: release-name-icelandic-names-registry-backend-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/icelandic-names-registry-backend/DB_PASSWORD"
---
# Source: islandis/charts/island-ui-storybook/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: storybook
  name: release-name-island-ui-storybook
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
---
# Source: islandis/charts/license-api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: license-api
  name: release-name-license-api
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DISABILITY_LICENSE_FETCH_TIMEOUT
      key: "/k8s/api/DISABILITY_LICENSE_FETCH_TIMEOUT"
    - name: DISABILITY_LICENSE_PASS_TEMPLATE_ID
      key: "/k8s/DISABILITY_LICENSE_PASS_TEMPLATE_ID"
    - name: DRIVING_LICENSE_FETCH_TIMEOUT
      key: "/k8s/api/DRIVING_LICENSE_FETCH_TIMEOUT"
    - name: DRIVING_LICENSE_PASS_TEMPLATE_ID
      key: "/k8s/api/DRIVING_LICENSE_PASS_TEMPLATE_ID"
    - name: FIREARM_LICENSE_FETCH_TIMEOUT
      key: "/k8s/api/FIREARM_LICENSE_FETCH_TIMEOUT"
    - name: FIREARM_LICENSE_PASS_TEMPLATE_ID
      key: "/k8s/api/FIREARM_LICENSE_PASS_TEMPLATE_ID"
    - name: PKPASS_API_KEY
      key: "/k8s/api/PKPASS_API_KEY"
    - name: PKPASS_API_URL
      key: "/k8s/api/PKPASS_API_URL"
    - name: PKPASS_AUTH_RETRIES
      key: "/k8s/api/PKPASS_AUTH_RETRIES"
    - name: PKPASS_CACHE_KEY
      key: "/k8s/api/PKPASS_CACHE_KEY"
    - name: PKPASS_CACHE_TOKEN_EXPIRY_DELTA
      key: "/k8s/api/PKPASS_CACHE_TOKEN_EXPIRY_DELTA"
    - name: PKPASS_SECRET_KEY
      key: "/k8s/api/PKPASS_SECRET_KEY"
    - name: RLS_OPEN_LOOKUP_API_KEY
      key: "/k8s/api/RLS_OPEN_LOOKUP_API_KEY"
    - name: RLS_PKPASS_API_KEY
      key: "/k8s/api/RLS_PKPASS_API_KEY"
    - name: SMART_SOLUTIONS_API_URL
      key: "/k8s/api/SMART_SOLUTIONS_API_URL"
    - name: TR_PKPASS_API_KEY
      key: "/k8s/api/TR_PKPASS_API_KEY"
    - name: XROAD_DRIVING_LICENSE_SECRET
      key: "/k8s/api/DRIVING_LICENSE_SECRET"
---
# Source: islandis/charts/portals-admin/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: portals-admin
  name: release-name-portals-admin
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: SI_PUBLIC_CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: SI_PUBLIC_DD_RUM_APPLICATION_ID
      key: "/k8s/DD_RUM_APPLICATION_ID"
    - name: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
      key: "/k8s/DD_RUM_CLIENT_TOKEN"
---
# Source: islandis/charts/regulations-admin-backend/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: regulations-admin
  name: release-name-regulations-admin-backend
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/regulations-admin-backend/DB_PASSWORD"
    - name: IDENTITY_SERVER_CLIENT_SECRET
      key: "/k8s/services-regulations-admin/IDENTITY_SERVER_CLIENT_SECRET"
    - name: REGULATIONS_API_URL
      key: "/k8s/api/REGULATIONS_API_URL"
    - name: REGULATIONS_FILE_UPLOAD_KEY_DRAFT
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_DRAFT"
    - name: REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_PRESIGNED"
    - name: REGULATIONS_FILE_UPLOAD_KEY_PUBLISH
      key: "/k8s/api/REGULATIONS_FILE_UPLOAD_KEY_PUBLISH"
---
# Source: islandis/charts/regulations-admin-backend/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: regulations-admin
  name: release-name-regulations-admin-backend-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/regulations-admin-backend/DB_PASSWORD"
---
# Source: islandis/charts/search-indexer-service/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: search-indexer
  name: release-name-search-indexer-service
spec:
  backendType: systemManager
  data:
    - name: API_CMS_DELETION_TOKEN
      key: "/k8s/search-indexer/API_CMS_DELETION_TOKEN"
    - name: API_CMS_SYNC_TOKEN
      key: "/k8s/search-indexer/API_CMS_SYNC_TOKEN"
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: CONTENTFUL_ACCESS_TOKEN
      key: "/k8s/search-indexer/CONTENTFUL_ACCESS_TOKEN"
---
# Source: islandis/charts/search-indexer-service/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: search-indexer
  name: release-name-search-indexer-service-init-container
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: CONTENTFUL_ACCESS_TOKEN
      key: "/k8s/search-indexer/CONTENTFUL_ACCESS_TOKEN"
---
# Source: islandis/charts/service-portal-api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: service-portal
  name: release-name-service-portal-api
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/service-portal/api/DB_PASSWORD"
    - name: EMAIL_FROM
      key: "/k8s/service-portal/api/EMAIL_FROM"
    - name: EMAIL_FROM_NAME
      key: "/k8s/service-portal/api/EMAIL_FROM_NAME"
    - name: EMAIL_REPLY_TO
      key: "/k8s/service-portal/api/EMAIL_REPLY_TO"
    - name: EMAIL_REPLY_TO_NAME
      key: "/k8s/service-portal/api/EMAIL_REPLY_TO_NAME"
    - name: NOVA_PASSWORD
      key: "/k8s/gjafakort/NOVA_PASSWORD"
    - name: NOVA_URL
      key: "/k8s/service-portal-api/NOVA_URL"
    - name: NOVA_USERNAME
      key: "/k8s/gjafakort/NOVA_USERNAME"
---
# Source: islandis/charts/service-portal-api/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: service-portal
  name: release-name-service-portal-api-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/service-portal/api/DB_PASSWORD"
---
# Source: islandis/charts/service-portal/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: service-portal
  name: release-name-service-portal
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: SI_PUBLIC_CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: SI_PUBLIC_DD_RUM_APPLICATION_ID
      key: "/k8s/DD_RUM_APPLICATION_ID"
    - name: SI_PUBLIC_DD_RUM_CLIENT_TOKEN
      key: "/k8s/DD_RUM_CLIENT_TOKEN"
---
# Source: islandis/charts/services-documents/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: services-documents
  name: release-name-services-documents
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/services-documents/DB_PASSWORD"
---
# Source: islandis/charts/services-documents/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: services-documents
  name: release-name-services-documents-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/services-documents/DB_PASSWORD"
---
# Source: islandis/charts/services-sessions-geoip-worker/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: services-sessions
  name: release-name-services-sessions-geoip-worker
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: GEOIP_LICENSE_KEY
      key: "/k8s/services-sessions/GEOIP_LICENSE_KEY"
---
# Source: islandis/charts/services-sessions-worker/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: services-sessions
  name: release-name-services-sessions-worker
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/services-sessions/DB_PASSWORD"
---
# Source: islandis/charts/services-sessions-worker/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: services-sessions
  name: release-name-services-sessions-worker-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/services-sessions/DB_PASSWORD"
---
# Source: islandis/charts/services-sessions/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: services-sessions
  name: release-name-services-sessions
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/services-sessions/readonly/DB_PASSWORD"
    - name: GEOIP_LICENSE_KEY
      key: "/k8s/services-sessions/GEOIP_LICENSE_KEY"
---
# Source: islandis/charts/skilavottord-web/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: skilavottord
  name: release-name-skilavottord-web
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DD_RUM_APPLICATION_ID
      key: "/k8s/DD_RUM_APPLICATION_ID"
    - name: DD_RUM_CLIENT_TOKEN
      key: "/k8s/DD_RUM_CLIENT_TOKEN"
    - name: IDENTITY_SERVER_DOMAIN
      key: "/k8s/skilavottord/web/IDENTITY_SERVER_DOMAIN"
    - name: IDENTITY_SERVER_LOGOUT_REDIRECT_URL
      key: "/k8s/skilavottord/web/IDENTITY_SERVER_LOGOUT_REDIRECT_URL"
    - name: NEXTAUTH_URL
      key: "/k8s/skilavottord/web/NEXTAUTH_URL"
    - name: SKILAVOTTORD_WEB_IDS_CLIENT_SECRET
      key: "/k8s/skilavottord/web/IDENTITY_SERVER_CLIENT_SECRET"
---
# Source: islandis/charts/skilavottord-ws/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: skilavottord
  name: release-name-skilavottord-ws
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DB_PASS
      key: "/k8s/skilavottord/DB_PASSWORD"
    - name: FJARSYSLA_REST_PASS
      key: "/k8s/skilavottord/FJARSYSLA_REST_PASS"
    - name: FJARSYSLA_REST_URL
      key: "/k8s/skilavottord-ws/FJARSYSLA_REST_URL"
    - name: FJARSYSLA_REST_USER
      key: "/k8s/skilavottord/FJARSYSLA_REST_USER"
    - name: SAMGONGUSTOFA_REST_AUTH_URL
      key: "/k8s/skilavottord-ws/SAMGONGUSTOFA_REST_AUTH_URL"
    - name: SAMGONGUSTOFA_REST_DEREG_URL
      key: "/k8s/skilavottord-ws/SAMGONGUSTOFA_REST_DEREG_URL"
    - name: SAMGONGUSTOFA_REST_PASS
      key: "/k8s/skilavottord/SAMGONGUSTOFA_REST_PASS"
    - name: SAMGONGUSTOFA_REST_USER
      key: "/k8s/skilavottord/SAMGONGUSTOFA_REST_USER"
    - name: SAMGONGUSTOFA_SOAP_PASS
      key: "/k8s/skilavottord/SAMGONGUSTOFA_SOAP_PASS"
    - name: SAMGONGUSTOFA_SOAP_URL
      key: "/k8s/skilavottord-ws/SAMGONGUSTOFA_SOAP_URL"
    - name: SAMGONGUSTOFA_SOAP_USER
      key: "/k8s/skilavottord/SAMGONGUSTOFA_SOAP_USER"
---
# Source: islandis/charts/skilavottord-ws/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: skilavottord
  name: release-name-skilavottord-ws-init-container
spec:
  backendType: systemManager
  data:
    - name: DB_PASS
      key: "/k8s/skilavottord/DB_PASSWORD"
---
# Source: islandis/charts/user-notification-worker/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: user-notification
  name: release-name-user-notification-worker
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: CONTENTFUL_ACCESS_TOKEN
      key: "/k8s/user-notification/CONTENTFUL_ACCESS_TOKEN"
    - name: FIREBASE_CREDENTIALS
      key: "/k8s/user-notification/firestore-credentials"
    - name: USER_NOTIFICATION_CLIENT_ID
      key: "/k8s/user-notification/USER_NOTIFICATION_CLIENT_ID"
    - name: USER_NOTIFICATION_CLIENT_SECRET
      key: "/k8s/user-notification/USER_NOTIFICATION_CLIENT_SECRET"
---
# Source: islandis/charts/user-notification/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: user-notification
  name: release-name-user-notification
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: CONTENTFUL_ACCESS_TOKEN
      key: "/k8s/user-notification/CONTENTFUL_ACCESS_TOKEN"
    - name: FIREBASE_CREDENTIALS
      key: "/k8s/user-notification/firestore-credentials"
---
# Source: islandis/charts/web/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: islandis
  name: release-name-web
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
    - name: DD_RUM_APPLICATION_ID
      key: "/k8s/DD_RUM_APPLICATION_ID"
    - name: DD_RUM_CLIENT_TOKEN
      key: "/k8s/DD_RUM_CLIENT_TOKEN"
---
# Source: islandis/charts/xroad-collector/templates/secrets.yaml
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  namespace: xroad-collector
  name: release-name-xroad-collector
spec:
  backendType: systemManager
  data:
    - name: CONFIGCAT_SDK_KEY
      key: "/k8s/configcat/CONFIGCAT_SDK_KEY"
---
# Source: islandis/charts/air-discount-scheme-api/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-air-discount-scheme-api-test-connection"
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-api-0.0.1
    app.kubernetes.io/name: air-discount-scheme-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-air-discount-scheme-api:80']
  restartPolicy: Never
---
# Source: islandis/charts/air-discount-scheme-backend/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-air-discount-scheme-backend-test-connection"
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-backend-0.0.1
    app.kubernetes.io/name: air-discount-scheme-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-air-discount-scheme-backend:80']
  restartPolicy: Never
---
# Source: islandis/charts/air-discount-scheme-web/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-air-discount-scheme-web-test-connection"
  namespace: air-discount-scheme
  labels:
    helm.sh/chart: air-discount-scheme-web-0.0.1
    app.kubernetes.io/name: air-discount-scheme-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-air-discount-scheme-web:80']
  restartPolicy: Never
---
# Source: islandis/charts/api/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-api-test-connection"
  namespace: islandis
  labels:
    helm.sh/chart: api-0.0.1
    app.kubernetes.io/name: api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-api:80']
  restartPolicy: Never
---
# Source: islandis/charts/application-system-api/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-application-system-api-test-connection"
  namespace: application-system
  labels:
    helm.sh/chart: application-system-api-0.0.1
    app.kubernetes.io/name: application-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-application-system-api:80']
  restartPolicy: Never
---
# Source: islandis/charts/application-system-form/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-application-system-form-test-connection"
  namespace: application-system
  labels:
    helm.sh/chart: application-system-form-0.0.1
    app.kubernetes.io/name: application-system-form
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-application-system-form:80']
  restartPolicy: Never
---
# Source: islandis/charts/consultation-portal/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-consultation-portal-test-connection"
  namespace: consultation-portal
  labels:
    helm.sh/chart: consultation-portal-0.0.1
    app.kubernetes.io/name: consultation-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-consultation-portal:80']
  restartPolicy: Never
---
# Source: islandis/charts/contentful-apps/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-contentful-apps-test-connection"
  namespace: contentful-apps
  labels:
    helm.sh/chart: contentful-apps-0.0.1
    app.kubernetes.io/name: contentful-apps
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-contentful-apps:80']
  restartPolicy: Never
---
# Source: islandis/charts/contentful-entry-tagger-service/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-contentful-entry-tagger-service-test-connection"
  namespace: contentful-entry-tagger
  labels:
    helm.sh/chart: contentful-entry-tagger-service-0.0.1
    app.kubernetes.io/name: contentful-entry-tagger-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-contentful-entry-tagger-service:80']
  restartPolicy: Never
---
# Source: islandis/charts/contentful-translation-extension/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-contentful-translation-extension-test-connection"
  namespace: contentful-translation-extension
  labels:
    helm.sh/chart: contentful-translation-extension-0.0.1
    app.kubernetes.io/name: contentful-translation-extension
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-contentful-translation-extension:80']
  restartPolicy: Never
---
# Source: islandis/charts/download-service/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-download-service-test-connection"
  namespace: download-service
  labels:
    helm.sh/chart: download-service-0.0.1
    app.kubernetes.io/name: download-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-download-service:80']
  restartPolicy: Never
---
# Source: islandis/charts/endorsement-system-api/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-endorsement-system-api-test-connection"
  namespace: endorsement-system
  labels:
    helm.sh/chart: endorsement-system-api-0.0.1
    app.kubernetes.io/name: endorsement-system-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-endorsement-system-api:80']
  restartPolicy: Never
---
# Source: islandis/charts/github-actions-cache/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-github-actions-cache-test-connection"
  namespace: github-actions-cache
  labels:
    helm.sh/chart: github-actions-cache-0.0.1
    app.kubernetes.io/name: github-actions-cache
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-github-actions-cache:80']
  restartPolicy: Never
---
# Source: islandis/charts/icelandic-names-registry-backend/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-icelandic-names-registry-backend-test-connection"
  namespace: icelandic-names-registry
  labels:
    helm.sh/chart: icelandic-names-registry-backend-0.0.1
    app.kubernetes.io/name: icelandic-names-registry-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-icelandic-names-registry-backend:80']
  restartPolicy: Never
---
# Source: islandis/charts/island-ui-storybook/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-island-ui-storybook-test-connection"
  namespace: storybook
  labels:
    helm.sh/chart: island-ui-storybook-0.0.1
    app.kubernetes.io/name: island-ui-storybook
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-island-ui-storybook:80']
  restartPolicy: Never
---
# Source: islandis/charts/license-api/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-license-api-test-connection"
  namespace: license-api
  labels:
    helm.sh/chart: license-api-0.0.1
    app.kubernetes.io/name: license-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-license-api:80']
  restartPolicy: Never
---
# Source: islandis/charts/portals-admin/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-portals-admin-test-connection"
  namespace: portals-admin
  labels:
    helm.sh/chart: portals-admin-0.0.1
    app.kubernetes.io/name: portals-admin
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-portals-admin:80']
  restartPolicy: Never
---
# Source: islandis/charts/regulations-admin-backend/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-regulations-admin-backend-test-connection"
  namespace: regulations-admin
  labels:
    helm.sh/chart: regulations-admin-backend-0.0.1
    app.kubernetes.io/name: regulations-admin-backend
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-regulations-admin-backend:80']
  restartPolicy: Never
---
# Source: islandis/charts/search-indexer-service/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-search-indexer-service-test-connection"
  namespace: search-indexer
  labels:
    helm.sh/chart: search-indexer-service-0.0.1
    app.kubernetes.io/name: search-indexer-service
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-search-indexer-service:80']
  restartPolicy: Never
---
# Source: islandis/charts/service-portal-api/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-service-portal-api-test-connection"
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-api-0.0.1
    app.kubernetes.io/name: service-portal-api
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-service-portal-api:80']
  restartPolicy: Never
---
# Source: islandis/charts/service-portal/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-service-portal-test-connection"
  namespace: service-portal
  labels:
    helm.sh/chart: service-portal-0.0.1
    app.kubernetes.io/name: service-portal
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-service-portal:80']
  restartPolicy: Never
---
# Source: islandis/charts/services-documents/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-services-documents-test-connection"
  namespace: services-documents
  labels:
    helm.sh/chart: services-documents-0.0.1
    app.kubernetes.io/name: services-documents
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-services-documents:80']
  restartPolicy: Never
---
# Source: islandis/charts/services-sessions-worker/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-services-sessions-worker-test-connection"
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-worker-0.0.1
    app.kubernetes.io/name: services-sessions-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-services-sessions-worker:80']
  restartPolicy: Never
---
# Source: islandis/charts/services-sessions/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-services-sessions-test-connection"
  namespace: services-sessions
  labels:
    helm.sh/chart: services-sessions-0.0.1
    app.kubernetes.io/name: services-sessions
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-services-sessions:80']
  restartPolicy: Never
---
# Source: islandis/charts/skilavottord-web/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-skilavottord-web-test-connection"
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-web-0.0.1
    app.kubernetes.io/name: skilavottord-web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-skilavottord-web:80']
  restartPolicy: Never
---
# Source: islandis/charts/skilavottord-ws/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-skilavottord-ws-test-connection"
  namespace: skilavottord
  labels:
    helm.sh/chart: skilavottord-ws-0.0.1
    app.kubernetes.io/name: skilavottord-ws
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-skilavottord-ws:80']
  restartPolicy: Never
---
# Source: islandis/charts/user-notification-worker/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-user-notification-worker-test-connection"
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-worker-0.0.1
    app.kubernetes.io/name: user-notification-worker
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-user-notification-worker:80']
  restartPolicy: Never
---
# Source: islandis/charts/user-notification/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-user-notification-test-connection"
  namespace: user-notification
  labels:
    helm.sh/chart: user-notification-0.0.1
    app.kubernetes.io/name: user-notification
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-user-notification:80']
  restartPolicy: Never
---
# Source: islandis/charts/web/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-web-test-connection"
  namespace: islandis
  labels:
    helm.sh/chart: web-0.0.1
    app.kubernetes.io/name: web
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-web:80']
  restartPolicy: Never
