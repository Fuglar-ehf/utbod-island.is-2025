openapi: 3.0.0
paths:
  /liveness:
    get:
      operationId: InfraController_liveness
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Liveness'
      tags:
        - internal
  /version:
    get:
      operationId: InfraController_version
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Version'
      tags:
        - internal
  /v1/actor/delegations:
    get:
      operationId: ActorDelegationsController_findAll
      description: "Finds all incoming delegations for the signed in user or actor.\n\t\t\tIncluding the custom delegations as well as natural delegations from NationalRegistry and CompanyRegistry."
      parameters:
        - name: direction
          required: true
          in: query
          schema:
            enum:
              - incoming
            default: incoming
        - name: delegationTypes
          required: false
          in: query
          schema:
            type: array
            items:
              type: string
        - name: otherUser
          required: false
          in: query
          description: >-
            The ID of another user. We filter out all delegations not related to
            that national id.
          schema:
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MergedDelegationDTO'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HttpProblemResponse'
        '401':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HttpProblemResponse'
        '403':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HttpProblemResponse'
        '500':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HttpProblemResponse'
      tags:
        - actor-delegations
info:
  title: IdentityServer Public API
  description: >-
    Public API for IdentityServer.



    The swagger document can be downloaded by appending `-json` to the last path
    segment.
  version: '1.0'
  contact: {}
tags: []
servers:
  - url: http://localhost:3370
components:
  schemas:
    Liveness:
      type: object
      properties:
        ok:
          type: boolean
      required:
        - ok
    Version:
      type: object
      properties:
        version:
          type: string
      required:
        - version
    DelegationType:
      type: string
      enum:
        - LegalGuardian
        - ProcurationHolder
        - PersonalRepresentative
        - Custom
    DelegationScopeDTO:
      type: object
      properties:
        id:
          type: string
          nullable: true
        delegationId:
          type: string
        scopeName:
          type: string
        displayName:
          type: string
        validFrom:
          format: date-time
          type: string
        validTo:
          format: date-time
          type: string
          nullable: true
      required:
        - delegationId
        - scopeName
        - displayName
        - validFrom
    MergedDelegationDTO:
      type: object
      properties:
        fromNationalId:
          type: string
        fromName:
          type: string
          nullable: true
        toNationalId:
          type: string
        toName:
          type: string
          nullable: true
        validTo:
          format: date-time
          type: string
          nullable: true
        types:
          type: array
          items:
            $ref: '#/components/schemas/DelegationType'
        scopes:
          nullable: true
          type: array
          items:
            $ref: '#/components/schemas/DelegationScopeDTO'
      required:
        - fromNationalId
        - toNationalId
        - types
    HttpProblemResponse:
      type: object
      properties:
        type:
          type: string
          description: A URI reference that identifies the problem type
        title:
          type: string
          description: A short, human-readable summary of the problem type
        status:
          type: number
          description: The HTTP status code
        detail:
          type: string
          description: >-
            A human-readable explanation specific to this occurrence of the
            problem
        instance:
          type: string
          description: >-
            A URI reference that identifies the specific occurrence of the
            problem.
      required:
        - type
        - title
