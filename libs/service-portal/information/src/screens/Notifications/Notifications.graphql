fragment NotificationMetadataFields on NotificationMetadata {
  sent
  updated
  created
  read
  status
}

fragment NotificationSenderFields on NotificationSender {
  name
  logo
}

fragment NotificationMessageFields on NotificationMessage {
  title
  body
  link {
    uri
  }
}

query GetUserNotifications($input: NotificationsInput!) {
  userNotifications(input: $input) {
    data {
      id
      notificationId
      metadata {
        ...NotificationMetadataFields
      }
      sender {
        ...NotificationSenderFields
      }
      recipient {
        nationalId
      }
      message {
        ...NotificationMessageFields
      }
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    unreadCount
    totalCount
  }
}

query GetUserNotificationsOverview($input: NotificationsInput!) {
  userNotificationsOverview: userNotifications(input: $input) {
    data {
      id
      notificationId
      metadata {
        ...NotificationMetadataFields
      }
      sender {
        ...NotificationSenderFields
      }
      message {
        ...NotificationMessageFields
      }
    }
    totalCount
  }
}
