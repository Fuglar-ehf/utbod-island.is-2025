'use strict'
const faker = require('faker')
const {
  getGenericEndorsementList,
  getGenericEndorsement,
} = require('../test/seedHelpers')
module.exports = {
  up: async (queryInterface, Sequelize) => {
    const fakePeople = [
      '0101302399',
      '0101307789',
      '0101302209',
      '0101302479',
      '0101304339',
      '0101304929',
      '0101303019',
      '0101302559',
      '0101302719',
      '0101303369',
      '0101302639',
      '0101305069',
      '0101302989',
      '0101302129',
    ]
    const fakePeopleInvalidSSNs = Array(300)
      .fill()
      .map(() => faker.phone.phoneNumber('##########'))

    const endorsementLists = [
      {
        ...getGenericEndorsementList(),
        endorsement_meta: ['fullName'],
        endorsement_metadata: JSON.stringify([{ field: 'fullName' }]),
        tags: ['generalPetition'],
        owner: '0101302399',
        meta: JSON.stringify({
          applicationId: 'someId',
        }),
      },
      // lets add some random lists
      ...Array(30)
        .fill()
        .map(() => getGenericEndorsementList(['generalPetition'])),
    ]

    await queryInterface.bulkInsert('endorsement_list', endorsementLists)

    const endorsementIds = [
      endorsementLists[0].id,
      endorsementLists[1].id,
      endorsementLists[2].id,
      endorsementLists[3].id,
    ]

    const icelandicLikeNames = [
      'Vélmundur',
      'Steingráma',
      'Fangbéli',
      'Þórhólpur',
      'Grímvar',
      'Kelmdís',
      'Hafgísl',
      'Björgrún',
      'Eldsteinn',
      'Þrúnbjörn',
      'Dagsvör',
      'Hrýnfari',
      'Álfkelmir',
      'Gíslhrafn',
      'Fjallríður',
      'Ormhildur',
      'Eymkell',
      'Skreiðmar',
      'Þjóðsvar',
      'Götfríður',
      'Hafgár',
      'Sæmdrún',
      'Vármar',
      'Hrönngul',
      'Þórdæll',
      'Jökulfinn',
      'Svanrik',
      'Eldhraf',
      'Gullþor',
      'Snæfljóður',
      'Hrafmóð',
      'Örnmund',
      'Bjartseir',
      'Þorkalv',
      'Dagvár',
      'Krumgrímur',
      'Sælvör',
      'Þórhadd',
      'Valgísl',
      'Hrímsteinn',
      'Eiríkrún',
      'Úlfmærr',
      'Örlygmar',
      'Hröngmundur',
      'Súlvar',
      'Gautsmundur',
      'Snjólín',
      'Æsirún',
      'Brimgunnar',
      'Fjallgrímur',
      'Eldný',
      'Hrímvarg',
      'Snæbjarg',
      'Þórgrímn',
      'Vindkel',
      'Arndór',
      'Skrafbjörn',
      'Mælkar',
      'Fjölnhrafn',
      'Grétvor',
      'Hrafsteindís',
      'Árthormar',
      'Gústgríma',
      'Lómsteinn',
      'Hregviðr',
      'Eldskari',
      'Haukgrím',
      'Mjörgmundur',
      'Þornfríður',
      'Gullmóð',
      'Áskrim',
      'Valsteinn',
      'Þorhvar',
      'Brúnkel',
      'Snjófríðr',
      'Öndhrafn',
      'Viðarlaug',
      'Gústvar',
      'Hjálhrafn',
      'Snjólund',
      'Dagsmær',
      'Fjörhraf',
      'Þórvís',
      'Eldskel',
      'Örvarinn',
      'Sæmfriðr',
      'Mörgvé',
      'Hrafndóra',
      'Hafþrúðr',
      'Þormírr',
      'Lýtrún',
      'Bergrík',
      'Hafmóðr',
      'Sigbjarg',
      'Djúpkell',
      'Snjómundr',
      'Gullbrim',
      'Þjóðgrim',
      'Dagsorm',
      'Vindhrafn',
      'Kelrún',
      'Hákorm',
      'Brimgaldur',
      'Örnljót',
      'Álfrún',
      'Stálmóður',
      'Gestrfinn',
      'Öndfari',
      'Þrúðgrím',
      'Björgmar',
      'Hrólfveig',
      'Hrímhadd',
      'Svanmóður',
      'Eldbjarg',
      'Snækunn',
      'Hrafmóðr',
      'Gneistdór',
      'Huldsvör',
      'Kelmdór',
      'Skriðbaldur',
      'Valkorm',
      'Sæbjörg',
      'Glóðfríður',
      'Lómkel',
      'Steindís',
      'Gautný',
      'Hrímsveinn',
      'Jökulrún',
      'Álfdís',
      'Þröstvar',
      'Snjólfrún',
      'Öndketill',
      'Hríðbjörn',
      'Sæltor',
      'Fjörkel',
      'Hrafndís',
      'Málsteinn',
      'Brimný',
      'Björgvé',
      'Vélmár',
      'Snædóra',
      'Vindrún',
      'Kelgjóður',
      'Hafvar',
      'Arndval',
      'Brákel',
      'Eldmóðr',
      'Fjallhraf',
      'Hrimkel',
      'Þórviðr',
      'Álfmóð',
      'Grímkatla',
      'Hjaldorm',
      'Snæhvít',
      'Bjargskor',
      'Svanmeir',
      'Gullkel',
      'Dagsvörður',
      'Vindhlíf',
      'Hríðdór',
      'Gustrún',
      'Mærkorm',
      'Þórbjarg',
      'Snjólög',
      'Örþor',
      'Djúprún',
      'Steingrið',
      'Hafveig',
      'Gneisthraf',
      'Kelmdór',
      'Hrímfari',
      'Brúnhraf',
      'Sælgunn',
      'Mjörgvindur',
      'Bráhild',
      'Fjörmund',
      'Þjóðlaug',
      'Huldvar',
      'Jökulmóð',
      'Lómviðr',
      'Sigthorm',
      'Haukrún',
      'Snædís',
      'Vindglóa',
      'Þorketill',
      'Baldhraf',
      'Hrafglóð',
      'Hrönndís',
      'Skjólfinn',
      'Sólveigur',
      'Þórhauk',
      'Fjörðmar',
      'Jökulbjörn',
      'Árnketill',
      'Gestrmóð',
      'Snjólaug',
      'Kelgríma',
      'Vindjóður',
      'Málbjörg',
      'Sælvind',
      'Brimgestur',
      'Hjaldgrím',
      'Þrúðhrafn',
      'Gautbjörg',
      'Ásmóðr',
      'Örnbald',
      'Hríðrún',
      'Kelstein',
      'Snæbrún',
      'Mjörggest',
      'Dagsvin',
      'Þórkelmir',
      'Gullhrafn',
      'Hrímkatla',
      'Haukorm',
      'Jökulvíg',
      'Fjörður',
      'Sælhildur',
    ]

    const endorsements = [
      ...[...fakePeople, ...fakePeopleInvalidSSNs].map((fakeNationalId) => ({
        ...getGenericEndorsement(),
        endorsement_list_id: faker.random.arrayElement(endorsementIds),
        endorser: fakeNationalId,
        meta: JSON.stringify({
          fullName: `${faker.random.arrayElement(
            icelandicLikeNames,
          )} ${faker.random.arrayElement(icelandicLikeNames)}`,
          showName: true,
        }),
      })),
    ]

    await queryInterface.bulkInsert('endorsement', endorsements)
  },

  down: (queryInterface, Sequelize) => {
    return Promise.all([
      queryInterface.bulkDelete('endorsement'),
      queryInterface.bulkDelete('endorsement_list'),
    ])
  },
}
