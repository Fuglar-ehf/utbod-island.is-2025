#####################################################################
#
# Do not edit this file manually, it is automatically generated.
# Run "yarn charts" instead.
#
#####################################################################
air-discount-scheme-api:
  enabled: true
  env:
    AUTH_AUDIENCE: foo-loftbru.dev01.devland.is
    BACKEND_URL: >-
      http://web-air-discount-scheme-backend.air-discount-scheme.svc.cluster.local
    CONTENTFUL_HOST: preview.contentful.com
    ELASTIC_NODE: 'https://vpc-search-njkekqydiegezhr4vqpkfnw5la.eu-west-1.es.amazonaws.com'
    IDENTITY_SERVER_ISSUER_URL: 'https://identity-server.dev01.devland.is'
    LOG_LEVEL: info
    NODE_OPTIONS: '--max-old-space-size=460 -r dd-trace/init'
    SERVERSIDE_FEATURES_ON: ''
  grantNamespaces:
    - nginx-ingress-external
    - islandis
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: /liveness
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: /liveness
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 2
        min: 1
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/air-discount-scheme-api
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: foo-loftbru.dev01.devland.is
          paths:
            - /api/graphql
        - host: foo-loftbru-cf.dev01.devland.is
          paths:
            - /api/graphql
  namespace: feature-foo
  podDisruptionBudget:
    maxUnavailable: 1
  podSecurityContext:
    fsGroup: 65534
  pvcs: []
  replicaCount:
    default: 1
    max: 2
    min: 1
  resources:
    limits:
      cpu: 400m
      memory: 512Mi
    requests:
      cpu: 50m
      memory: 256Mi
  secrets:
    ADMINS: /k8s/air-discount-scheme/api/ADMINS
    AUTH_JWT_SECRET: /k8s/air-discount-scheme/api/AUTH_JWT_SECRET
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    CONTENTFUL_ACCESS_TOKEN: /k8s/air-discount-scheme/api/CONTENTFUL_ACCESS_TOKEN
    DEVELOPERS: /k8s/air-discount-scheme/api/DEVELOPERS
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::013313053092:role/air-discount-scheme-api'
    create: true
    name: air-discount-scheme-api
air-discount-scheme-web:
  enabled: true
  env:
    API_URL: 'http://web-air-discount-scheme-api'
    ENVIRONMENT: dev
    IDENTITY_SERVER_ISSUER_DOMAIN: identity-server.dev01.devland.is
    LOG_LEVEL: info
    NEXTAUTH_URL: 'https://foo-loftbru.dev01.devland.is'
    NODE_OPTIONS: '--max-old-space-size=230 -r dd-trace/init'
    SERVERSIDE_FEATURES_ON: ''
  grantNamespaces:
    - nginx-ingress-external
    - islandis
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: /liveness
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: /readiness
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 2
        min: 1
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/air-discount-scheme-web
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/configuration-snippet: >-
          rewrite /$ https://beta.dev01.devland.is/loftbru; rewrite /en$
          https://beta.dev01.devland.is/en/lower-airfares-for-residents-in-rural-areas;
        nginx.ingress.kubernetes.io/proxy-buffer-size: 16k
        nginx.ingress.kubernetes.io/proxy-buffering: 'on'
        nginx.ingress.kubernetes.io/proxy-buffers-number: '4'
        nginx.ingress.kubernetes.io/server-snippet: client_header_buffer_size 16k; large_client_header_buffers 4 16k;
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: foo-loftbru.dev01.devland.is
          paths:
            - /
        - host: foo-loftbru-cf.dev01.devland.is
          paths:
            - /
  namespace: feature-foo
  podDisruptionBudget:
    maxUnavailable: 1
  pvcs: []
  replicaCount:
    default: 1
    max: 2
    min: 1
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    DD_LOGS_CLIENT_TOKEN: /k8s/DD_LOGS_CLIENT_TOKEN
    IDENTITY_SERVER_SECRET: /k8s/air-discount-scheme/web/IDENTITY_SERVER_SECRET
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
global:
  env:
    AUDIT_GROUP_NAME: /island-is/audit-log
    AWS_REGION: eu-west-1
    NPM_CONFIG_UPDATE_NOTIFIER: 'false'
    PORT: '3333'
    name: dev
  initContainer:
    env:
      AWS_REGION: eu-west-1
      NPM_CONFIG_UPDATE_NOTIFIER: 'false'
namespaces:
  labels:
    namespaceType: feature
  namespaces:
    - feature-foo

