{
  "air-discount-scheme-backend": {
    "serviceDef": {
      "liveness": {
        "path": "/liveness",
        "timeoutSeconds": 3,
        "initialDelaySeconds": 3
      },
      "readiness": {
        "path": "/liveness",
        "timeoutSeconds": 3,
        "initialDelaySeconds": 3
      },
      "env": {
        "ENVIRONMENT": {
          "dev": "dev",
          "staging": "staging",
          "prod": "prod"
        },
        "IDENTITY_SERVER_ISSUER_URL": {
          "dev": "https://identity-server.dev01.devland.is",
          "staging": "https://identity-server.staging01.devland.is",
          "prod": "https://innskra.island.is"
        },
        "IDENTITY_SERVER_CLIENT_ID": "@vegagerdin.is/clients/air-discount-scheme"
      },
      "features": {},
      "name": "air-discount-scheme-backend",
      "grantNamespaces": [
        "islandis"
      ],
      "grantNamespacesEnabled": true,
      "secrets": {
        "CONFIGCAT_SDK_KEY": "/k8s/configcat/CONFIGCAT_SDK_KEY",
        "ICELANDAIR_API_KEY": "/k8s/air-discount-scheme/backend/ICELANDAIR_API_KEY",
        "MYFLUG_API_KEY": "/k8s/air-discount-scheme/backend/MYFLUG_API_KEY",
        "ERNIR_API_KEY": "/k8s/air-discount-scheme/backend/ERNIR_API_KEY",
        "NORLANDAIR_API_KEY": "/k8s/air-discount-scheme/backend/NORLANDAIR_API_KEY",
        "NATIONAL_REGISTRY_PASSWORD": "/k8s/air-discount-scheme/backend/NATIONAL_REGISTRY_PASSWORD",
        "NATIONAL_REGISTRY_USERNAME": "/k8s/air-discount-scheme/backend/NATIONAL_REGISTRY_USERNAME",
        "NATIONAL_REGISTRY_URL": "/k8s/air-discount-scheme/backend/NATIONAL_REGISTRY_URL",
        "IDENTITY_SERVER_CLIENT_SECRET": "/k8s/air-discount-scheme-backend/VEGAGERDIN_IDS_CLIENTS_ADS_SECRET"
      },
      "ingress": {
        "primary": {
          "host": {
            "dev": [
              "loftbru",
              "loftbru-cf"
            ],
            "staging": [
              "loftbru",
              "loftbru-cf"
            ],
            "prod": "loftbru"
          },
          "extraAnnotations": {
            "dev": {
              "nginx.ingress.kubernetes.io/enable-global-auth": "false"
            },
            "staging": {
              "nginx.ingress.kubernetes.io/enable-global-auth": "false"
            },
            "prod": {}
          },
          "paths": [
            "/api/swagger",
            "/api/public"
          ]
        }
      },
      "namespace": "air-discount-scheme",
      "serviceAccountEnabled": false,
      "securityContext": {
        "privileged": false,
        "allowPrivilegeEscalation": false
      },
      "resources": {
        "limits": {
          "cpu": "400m",
          "memory": "512Mi"
        },
        "requests": {
          "cpu": "50m",
          "memory": "256Mi"
        }
      },
      "xroadConfig": [
        {
          "config": {
            "env": {
              "XROAD_BASE_PATH": {
                "prod": "http://securityserver.island.is"
              },
              "XROAD_BASE_PATH_WITH_ENV": {
                "staging": "http://securityserver.staging01.devland.is/r1/IS-TEST",
                "prod": "http://securityserver.island.is/r1/IS"
              },
              "XROAD_TLS_BASE_PATH": {
                "dev": "https://securityserver.dev01.devland.is",
                "staging": "https://securityserver.staging01.devland.is",
                "prod": "https://securityserver.island.is"
              },
              "XROAD_TLS_BASE_PATH_WITH_ENV": {
                "dev": "https://securityserver.dev01.devland.is/r1/IS-DEV",
                "staging": "https://securityserver.staging01.devland.is/r1/IS-TEST",
                "prod": "https://securityserver.island.is/r1/IS"
              }
            }
          }
        },
        {
          "config": {
            "env": {
              "XROAD_CLIENT_ID": {
                "dev": "IS-DEV/GOV/10000/island-is-client",
                "staging": "IS-TEST/GOV/5501692829/island-is-client",
                "prod": "IS/GOV/5501692829/island-is-client"
              }
            }
          }
        },
        {
          "config": {
            "env": {
              "XROAD_NATIONAL_REGISTRY_SERVICE_PATH": {
                "dev": "IS-DEV/GOV/10001/SKRA-Protected/Einstaklingar-v1",
                "staging": "IS-TEST/GOV/6503760649/SKRA-Protected/Einstaklingar-v1",
                "prod": "IS/GOV/6503760649/SKRA-Protected/Einstaklingar-v1"
              },
              "XROAD_NATIONAL_REGISTRY_REDIS_NODES": {
                "dev": "[\"clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379\"]",
                "staging": "[\"clustercfg.general-redis-cluster-group.ab9ckb.euw1.cache.amazonaws.com:6379\"]",
                "prod": "[\"clustercfg.general-redis-cluster-group.whakos.euw1.cache.amazonaws.com:6379\"]"
              },
              "XROAD_TJODSKRA_API_PATH": "/SKRA-Protected/Einstaklingar-v1",
              "XROAD_TJODSKRA_MEMBER_CODE": {
                "prod": "6503760649",
                "dev": "10001",
                "staging": "6503760649"
              }
            }
          }
        }
      ],
      "files": [],
      "volumes": [],
      "image": "air-discount-scheme-backend",
      "postgres": {
        "username": "air_discount_scheme_backend",
        "passwordSecret": "/k8s/air-discount-scheme-backend/DB_PASSWORD",
        "name": "air_discount_scheme_backend"
      },
      "initContainers": {
        "envs": {},
        "secrets": {},
        "features": {},
        "containers": [
          {
            "name": "migrations",
            "command": "npx",
            "args": [
              "sequelize-cli",
              "db:migrate"
            ]
          }
        ],
        "postgres": {
          "username": "air_discount_scheme_backend",
          "passwordSecret": "/k8s/air-discount-scheme-backend/DB_PASSWORD",
          "name": "air_discount_scheme_backend"
        }
      },
      "redis": {
        "host": {
          "dev": "clustercfg.general-redis-cluster-group.5fzau3.euw1.cache.amazonaws.com:6379",
          "staging": "clustercfg.general-redis-cluster-group.ab9ckb.euw1.cache.amazonaws.com:6379",
          "prod": "clustercfg.general-redis-cluster-group.whakos.euw1.cache.amazonaws.com:6379"
        }
      },
      "replicaCount": {
        "min": 2,
        "max": 10,
        "default": 2,
        "scalingMagicNumber": 20
      }
    }
  }
}